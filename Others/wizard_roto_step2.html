<!doctype html>
<html>
    <head>
      <title>Novo Pedido de Vendas</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      
      <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">

      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <link rel="stylesheet" href="css/style.css">
      <link rel="stylesheet" href="css/table.css">
        <meta name="viewport" content="width=944">
        <meta name="robots" content="noindex, follow">
	<link rel="Shortcut icon" href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/favicon.ico" type="image/x-icon">
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon.png" rel="apple-touch-icon" />
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" />
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72" />
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114" />
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144" />
        <link rel="stylesheet" href="fonts/fontawesome-all.min.css">
        <link rel="stylesheet" href="fonts/font-awesome.min.css">
        <link rel="stylesheet" href="fonts/fontawesome5-overrides.min.css">
        <script src="js/popper.js"></script>
        <script src="js/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="/portal.cgi/PP_FILE_STORE/Sistema/assets/js/vendor/modernizr-2.6.2.min.js"></script>
      	<script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery-1.8.3.min.js'></script>
    	<script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery-ui-1.9.2.custom.js'></script>
    	<script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.cookie.js'></script>
    <!-- portal.js -->
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery-linedtextarea.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/codemirror.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/javascript.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.tmpl.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery-regex.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/sitemapstyler.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/date.format.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.iframe-transport.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.fileupload.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.notify.min.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.event.drag-2.2.js'></script>
        <script type='text/javascript' src='/portal.cgi?api=js'></script>
    	<script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/portal/js/nixps-portal-api.js'></script>
        <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.i18n.js'></script>
        
        <script>
            var queryString = window.location.search;
            //console.log(queryString);
            //var ordem2 = queryString.substring(7)
            var ordem = decodeURI(queryString.substring(7,queryString.length))
            console.log(ordem)
        </script>
       
    

    </head>


    <body>

  		<div class="wrapper d-flex align-items-stretch">
  			<nav id="sidebar">
  				<div class="p-4 pt-5">
            <img>
  		  		<img src="./assets/img/rotocrom.jpg" style="width: 70%; margin-bottom: 50px;">
               <ul class="active components mb-5">
                  <li style="color: #004b93; list-style-type: none">Pedidos
                  <ul>
                  <li class="active" style="list-style-type: none">
                     <a href="wizard_pedido.html?ordem="><i class="fas fa-cart-plus" style="margin-right: 5px"></i>Novo</a>
                    </li>
                    <li    style="list-style-type: none">
                     <a href="lista_pedidos.html"><i class="fas fa-tags" style="margin-right: 5px"></i>Meus Pedidos</a>
                    </li>
                   
                    </ul>
                    </li>
                    
                  
                    </ul>
                    
                    
       
   
  	        <div class="footer">
  	        	<p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0.
  						  Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib.com</a>
  						   Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
  	        </div>
  	      </div>
      	</nav>

          <!-- Page Content  -->
        <div id="content" class="p-4 p-md-5">

          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">

              <button type="button" id="sidebarCollapse" class="btn btn-primary">
                <i class="fa fa-bars"></i>
                <span class="sr-only">Toggle Menu</span>
              </button>
              <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                  <i class="fa fa-bars"></i>
              </button>
              <div id="bemvindo" style="margin-left: 20px;"></div>

              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="nav navbar-nav ml-auto">
                 <!--<li class="nav-item">
                      <a class="nav-link" href="solicitacaoArtes.html">Nova Solicitação</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="DashBoard_aprovacoes.html">Dashboard</a>
                  </li>-->
                </ul>
              </div>
            </div>
          </nav>
          <div>
        <h3 id="titulo" style="display:inline-block;"></h3>
        <h5 id="subtitulo" style="display:inline-block;"></h5>
        <!--<div class="form-group col-md-2" style="display:inline-block;">
          <label for="data-inicio">A partir de</label>
          <input type="date"  onchange="preencheLista()" class="form-control" id="data-inicio" name="data-inicio">
        </div>
        <div class="form-group col-md-2" style="display:inline-block;">
          <label for="data-final">Ate</label>
          <input type="date"  onchange="preencheLista()" class="form-control" id="data-final" name="data-final">
        </div>-->
        
        <br>
       
        <br>

        
        <div  class="form-group col-md-11" style="display:inline-block;">
        
       
            <div id="tipo_alteracao" style="display:none"></div>
            <div id="id_cliente" style="display:none"></div>
            
       
            <h5>Informações da Fotocélula</h5>
            <div class="form-group col-md-2" style="display:inline-block; vertical-align: top;">
                <label for="largura_fotocelula">Largura</label>
                  <input type="number" class="form-control" id="largura_fotocelula" name="largura_fotocelula">
                  </div>
                  <div class="form-group col-md-2" style="display:inline-block; vertical-align: top;">
                <label for="altura_fotocelula">Altura</label>
                  <input type="number" class="form-control" id="altura_fotocelula" name="altura_fotocelula">
                  </div>
            <div class="form-group col-md-4" style="display:inline-block; vertical-align: top;">
                <label for="qtde_fotocelula">Passo</label>
                <br>
                  <input type="number" class="form-control" style="width: 40%; display: inline-block; margin-right: 5px;" id="qtde_fotocelula" name="qtde_fotocelula"> x <input type="number" class="form-control"  style="width: 40%; display: inline-block; margin-left: 5px;" id="passo_fotocelula" name="passo_fotocelula">
            </div>
            

            </div>
            <br>
            <div class="form-group col-md-4" style="display:inline-block; vertical-align: top;">
            <h6>Posição Fotocélula</h6>
            <div class="form-group col-md-11" style="display:inline-block; vertical-align: top;">
                <label for="usar_print">Conforme Print</label>
                  <input type="checkbox" class="form-group" onclick="mostra_fotocelulas()" id="usar_print" name="usar_print">
                  </div>
                <div id="mostra_fotocelula1" style ="width: 100%">
                    <div style="height: 50px; margin-left: 50px; display: inline-block;">
                        
                    
                        <div style="width: 20px;display: inline-block; cursor: pointer">
                            <span id="90ES" onclick="adiciona_fotocelula()" style="margin-top:5px;height:50px;width:20px;background-color:lightgray;display:inline-block">
                            </span>
                        </div>
                        <div style="width: 40px;display: inline-block;">
                        </div>
                        <div style="width: 20px;display: inline-block; ; cursor: pointer">
                            <span id="90CS" onclick="adiciona_fotocelula()"  style="margin-top:5px;height:50px;width:20px;background-color:lightgray;display:inline-block">
                            </span>
                        </div>
                        <div style="width: 40px;display: inline-block;">
                        </div>
                         <div style="width: 20px;display: inline-block; ; cursor: pointer">
                            <span id="90DS" onclick="adiciona_fotocelula()"  style="margin-top:5px;height:50px;width:20px;background-color:lightgray;display:inline-block">
                            </span>
                        </div>
                        <div style="width: 50px;display: inline-block;">
                        </div>
                </div>
            </div>
            <div id="mostra_fotocelula2" style="width: 100%">
            <div style ="width: 50px; height: 200px; display: inline-block;">
                <div style="width: 50px;display: inline-block; ; cursor: pointer">
                            <span id="0ES" onclick="adiciona_fotocelula()"  style="margin-top:5px;height:20px;width:50px;background-color:lightgray;display:inline-block">
                            </span>
                </div>
                <div style="height 70px:width: 50px;display: inline-block;">
                    <span  style="margin-top:5px;height:50px;width:50px;background-color:#FAFAFA;display:inline-block">
                            </span>
                        </div>
               <div style="width: 50px;display: inline-block; ; cursor: pointer">
                            <span id="0EC" onclick="adiciona_fotocelula()"  style="margin-top:5px;height:20px;width:50px;background-color:lightgray;display:inline-block">
                            </span>
                </div>
                <div style="height 70px:width: 50px;display: inline-block;">
                    <span  style="margin-top:5px;height:50px;width:50px;background-color:#FAFAFA;display:inline-block">
                            </span>
                        </div>
                <div style="width: 50px;display: inline-block;; cursor: pointer">
                            <span id="0EI" onclick="adiciona_fotocelula()"  style="margin-top:5px;height:20px;width:50px;background-color:lightgray;display:inline-block">
                            </span>
                </div>
            </div>
            <div style ="width: 160px; height: 220px; display: inline-block; vertical-align: top;">
                <img src="./Icons/A.png" width="100%">
                </div>
            <div style ="width: 50px; height: 200px; display: inline-block;">
                <div style="width: 50px;display: inline-block;; cursor: pointer">
                            <span id="0DS" onclick="adiciona_fotocelula()"  style="margin-top:5px;height:20px;width:50px;background-color:lightgray;display:inline-block">
                            </span>
                </div>
                <div style="height 70px:width: 50px;display: inline-block;">
                    <span  style="margin-top:5px;height:50px;width:50px;background-color:#FAFAFA;display:inline-block">
                            </span>
                        </div>
               <div style="width: 50px;display: inline-block;; cursor: pointer">
                            <span id="0DC" onclick="adiciona_fotocelula()"  style="margin-top:5px;height:20px;width:50px;background-color:lightgray;display:inline-block">
                            </span>
                </div>
                <div style="height 70px:width: 50px;display: inline-block;">
                    <span  style="margin-top:5px;height:50px;width:50px;background-color:#FAFAFA;display:inline-block">
                            </span>
                        </div>
                <div style="width: 50px;display: inline-block;; cursor: pointer">
                            <span id="0DI" onclick="adiciona_fotocelula()"  style="margin-top:5px;height:20px;width:50px;background-color:lightgray;display:inline-block">
                            </span>
                </div>
            </div>
            </div>
            <div id="mostra_fotocelula3" style="width: 100%">
                    <div style="height: 50px; margin-left: 50px; display: inline-block;">
                        
                    
                        <div style="width: 20px;display: inline-block;; cursor: pointer">
                            <span id="90EI" onclick="adiciona_fotocelula()"  style="margin-top:5px;height:50px;width:20px;background-color:lightgray;display:inline-block">
                            </span>
                        </div>
                        <div style="width: 40px;display: inline-block;">
                        </div>
                        <div style="width: 20px;display: inline-block;; cursor: pointer">
                            <span id="90CI" onclick="adiciona_fotocelula()"  style="margin-top:5px;height:50px;width:20px;background-color:lightgray;display:inline-block">
                            </span>
                        </div>
                        <div style="width: 40px;display: inline-block;">
                        </div>
                         <div style="width: 20px;display: inline-block;; cursor: pointer">
                            <span id="90DI" onclick="adiciona_fotocelula()" q style="margin-top:5px;height:50px;width:20px;background-color:lightgray;display:inline-block">
                            </span>
                        </div>
                        <div style="width: 50px;display: inline-block;">
                        </div>
                </div>
            </div>
            </div>
    
            
             <div class="form-group col-md-7" style="display:inline-block; vertical-align: top;">
            <h6>Cores Fotocélula</h6>
            <br>
            <div id="mostra_cor_fotocelula_1" class="form-group" style="display:none;">
                  <label id="label_cor_fotocelula_1" for="a_cor_fotocelula_1"></label>
                  <input type="checkbox" class="form-group" style="width: 10%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_fotocelula()" id="a_cor_fotocelula_1" name="a_cor_fotocelula_1"><input type="number" class="form-group" style="width: 20%; display: none; margin-right: 5px;"  onchange="adiciona_pct_fotocelula()"   id="a_pct_fotocelula_1" name="a_pct_fotocelula_1">
                  <label  for="a_pct_fotocelula_1">%</label>
                  
            </div>
            <div id="mostra_cor_fotocelula_2" class="form-group" style="display:none;">
                  <label id="label_cor_fotocelula_2" for="a_cor_fotocelula_2"></label>
                  <input type="checkbox" class="form-group" style="width: 10%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_fotocelula()" id="a_cor_fotocelula_2" name="a_cor_2_fotocelula"><input type="number" class="form-group" style="width: 20%; display: none; margin-right: 5px;"  onchange="adiciona_pct_fotocelula()"   id="a_pct_fotocelula_2" name="a_pct_fotocelula_2">
                  <label  for="a_pct_fotocelula_2">%</label>
            </div>
            <div id="mostra_cor_fotocelula_3" class="form-group" style="display:none;">
                  <label id="label_cor_fotocelula_3" for="a_cor_fotocelula_3"></label>
                  <input type="checkbox" class="form-group" style="width: 10%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_fotocelula()" id="a_cor_fotocelula_3" name="a_cor_3_fotocelula"><input type="number" class="form-group" style="width: 20%; display: none; margin-right: 5px;"  onchange="adiciona_pct_fotocelula()"   id="a_pct_fotocelula_3" name="a_pct_fotocelula_3">
                  <label  for="a_pct_fotocelula_3">%</label>
            </div>
            <div id="mostra_cor_fotocelula_4" class="form-group" style="display:none;">
                  <label id="label_cor_fotocelula_4" for="a_cor_fotocelula_4"></label>
                  <input type="checkbox" class="form-group" style="width: 10%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_fotocelula()" id="a_cor_fotocelula_4" name="a_cor_4_fotocelula"><input type="number" class="form-group" style="width: 20%; display: none; margin-right: 5px;"  onchange="adiciona_pct_fotocelula()"   id="a_pct_fotocelula_4" name="a_pct_fotocelula_4">
                  <label  for="a_pct_fotocelula_4">%</label>
            </div>
            <div id="mostra_cor_fotocelula_5" class="form-group" style="display:none;">
                  <label id="label_cor_fotocelula_5" for="a_cor_fotocelula_5"></label>
                  <input type="checkbox" class="form-group" style="width: 10%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_fotocelula()" id="a_cor_fotocelula_5" name="a_cor_5_fotocelula"><input type="number" class="form-group" style="width: 20%; display: none; margin-right: 5px;"  onchange="adiciona_pct_fotocelula()"   id="a_pct_fotocelula_5" name="a_pct_fotocelula_5">
                  <label  for="a_pct_fotocelula_5">%</label>
            </div>
            <div id="mostra_cor_fotocelula_6" class="form-group" style="display:none;">
                  <label id="label_cor_fotocelula_6" for="a_cor_fotocelula_6"></label>
                  <input type="checkbox" class="form-group" style="width: 10%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_fotocelula()" id="a_cor_fotocelula_6" name="a_cor_6_fotocelula"><input type="number" class="form-group" style="width: 20%; display: none; margin-right: 5px;"  onchange="adiciona_pct_fotocelula()"   id="a_pct_fotocelula_6" name="a_pct_fotocelula_6">
                  <label  for="a_pct_fotocelula_6">%</label>
            </div>
            <div id="mostra_cor_fotocelula_7" class="form-group" style="display:none;">
                  <label id="label_cor_fotocelula_7" for="a_cor_fotocelula_7"></label>
                  <input type="checkbox" class="form-group" style="width: 10%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_fotocelula()" id="a_cor_fotocelula_7" name="a_cor_7_fotocelula"><input type="number" class="form-group" style="width: 20%; display: none; margin-right: 5px;"  onchange="adiciona_pct_fotocelula()"   id="a_pct_fotocelula_7" name="a_pct_fotocelula_7">
                  <label  for="a_pct_fotocelula_7">%</label>
            </div>
            <div id="mostra_cor_fotocelula_8" class="form-group col-md-3" style="display:none;">
                  <label id="label_cor_fotocelula_8" for="a_cor_fotocelula_8"></label>
                  <input type="checkbox" class="form-group" style="width: 10%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_fotocelula()" id="a_cor_fotocelula_8" name="a_cor_fotocelula_8"><input type="number" class="form-group" style="width: 20%; display: none; margin-right: 5px;"  onchange="adiciona_pct_fotocelula()"   id="a_pct_fotocelula_8" name="a_pct_fotocelula_8">
                  <label  for="a_pct_fotocelula_8">%</label>
            </div>
            <div id="mostra_cor_fotocelula_9" class="form-group" style="display:none;">
                  <label id="label_cor_fotocelula_9" for="a_cor_fotocelula_9"></label>
                  <input type="checkbox" class="form-group" style="width: 10%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_fotocelula()" id="a_cor_fotocelula_9" name="a_cor_fotocelula_9"><input type="number" class="form-group" style="width: 20%; display: none; margin-right: 5px;"  onchange="adiciona_pct_fotocelula()"   id="a_pct_fotocelula_9" name="a_pct_fotocelula_9">
                  <label  for="a_pct_fotocelula_9">%</label>
            </div>
            <div id="mostra_cor_fotocelula_10" class="form-group" style="display:none;">
                  <label id="label_cor_fotocelula_10" for="a_cor_fotocelula_10"></label>
                  <input type="checkbox" class="form-group" style="width: 10%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_fotocelula()" id="a_cor_fotocelula_10" name="a_cor_fotocelula_10"><input type="number" class="form-group" style="width: 20%; display: none; margin-right: 5px;"  onchange="adiciona_pct_fotocelula()"   id="a_pct_fotocelula_10" name="a_pct_fotocelula_10">
                  <label  for="a_pct_fotocelula_10">%</label>
            </div>
           
            
      <hr>
        <div class="form-group col-md-11" style="display:inline-block;">
            <h6>Tarja</h6>
            <br>
             <div class="form-group col-md-5" style="display:inline-block;">
                <label for="local_tarja">Local da tarja</label>
                <input type="text"  class="form-control" id="local_tarja"  name="local_tarja" list="os_locais">
                    <datalist id="os_locais"></datalist>
            </div>
            <div class="form-group col-md-3" style="display:inline-block;">
                <label for="medida_tarja">Medida (mm)</label>
                <input type="number"  class="form-control" id="medida_tarja"  name="medida_tarja"  value="0">
            </div>
            <div class="form-group col-md-5" style="display:inline-block;">
                <label for="tipo_registro">Tipo de Registro</label>
                <input type="text"  class="form-control" id="tipo_registro"  name="tipo_registro" list="os_registros">
                    <datalist id="os_registros"></datalist>
            </div>
            <div class="form-group col-md-2" style="display:inline-block;">
                
                <input type="checkbox"  class="form-group" id="logotipo"  name="logotipo">
                   <label for="logotipo">Logotipo</label>
            </div>
            <br>
             <h6>Cores Tarja</h6>
             <br>
             <div id="mostra_cor_tarja_1" class="form-group" style="display:none;">
                  <label id="label_cor_tarja_1" for="a_cor_tarja_1"></label>
                  <input type="checkbox" class="form-group" style="width: 5%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_tarja()" id="a_cor_tarja_1" name="a_cor_tarja_1">
            </div>
            <div id="mostra_cor_tarja_2" class="form-group" style="display:none;">
                  <label id="label_cor_tarja_2" for="a_cor_tarja_2"></label>
                  <input type="checkbox" class="form-group" style="width: 5%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_tarja()" id="a_cor_tarja_2" name="a_cor_tarja_2">
            </div>
            <div id="mostra_cor_tarja_3" class="form-group" style="display:none;">
                  <label id="label_cor_tarja_3" for="a_cor_tarja_3"></label>
                  <input type="checkbox" class="form-group" style="width: 5%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_tarja()" id="a_cor_tarja_3" name="a_cor_tarja_3">
            </div>
            <div id="mostra_cor_tarja_4" class="form-group" style="display:none;">
                  <label id="label_cor_tarja_4" for="a_cor_tarja_4"></label>
                  <input type="checkbox" class="form-group" style="width: 5%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_tarja()" id="a_cor_tarja_4" name="a_cor_tarja_4">
            </div>
            <div id="mostra_cor_tarja_5" class="form-group" style="display:none;">
                  <label id="label_cor_tarja_5" for="a_cor_tarja_5"></label>
                  <input type="checkbox" class="form-group" style="width: 5%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_tarja()" id="a_cor_tarja_5" name="a_cor_tarja_5">
            </div>
            <div id="mostra_cor_tarja_6" class="form-group" style="display:none;">
                  <label id="label_cor_tarja_6" for="a_cor_tarja_6"></label>
                  <input type="checkbox" class="form-group" style="width: 5%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_tarja()" id="a_cor_tarja_6" name="a_cor_tarja_6">
            </div>
            <div id="mostra_cor_tarja_7" class="form-group" style="display:none;">
                  <label id="label_cor_tarja_7" for="a_cor_tarja_7"></label>
                  <input type="checkbox" class="form-group" style="width: 5%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_tarja()" id="a_cor_tarja_7" name="a_cor_tarja_7">
            </div>
            <div id="mostra_cor_tarja_8" class="form-group" style="display:none;">
                  <label id="label_cor_tarja_8" for="a_cor_tarja_8"></label>
                  <input type="checkbox" class="form-group" style="width: 5%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_tarja()" id="a_cor_tarja_8" name="a_cor_tarja_8">
            </div>
            <div id="mostra_cor_tarja_9" class="form-group" style="display:none;">
                  <label id="label_cor_tarja_9" for="a_cor_tarja_9"></label>
                  <input type="checkbox" class="form-group" style="width: 5%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_tarja()" id="a_cor_tarja_9" name="a_cor_tarja_9">
            </div>
            <div id="mostra_cor_tarja_10" class="form-group" style="display:none;">
                  <label id="label_cor_tarja_10" for="a_cor_tarja_10"></label>
                  <input type="checkbox" class="form-group" style="width: 5%; display: inline-block; margin-right: 5px;" onclick="adiciona_cor_tarja()" id="a_cor_tarja_10" name="a_cor_tarja_10">
            </div>
           
            <hr>
            <h6>Puxada</h6>
            <br>
            <div class="form-group col-md-3" style="display:inline-block;">
                <label for="valor_puxada">Puxada (mm)</label>
                <input type="number"  class="form-control" id="valor_puxada"  name="valor_puxada" step="0.01"  value="0.00">
            </div>
            <div id="mostra_puxada_cilindro" class="form-group col-md-4" style="display:inline-block;">
                <label for="qual_cilindro">Qual Cilindro</label>
                <select class="form-control" id="qual_cilindro"  name="qual_cilindro">
                    <option value="undefined">Selecionar Cilindro...</option>
                   </select>
            </div><br>
            <section class="form-group col-md-6" style="display: inline-block;"></section>
            <div  class="form-group col-md-2" style="display:inline-block; vertical-align: top;">
                <button id="salva_cliente" class="btn btn-primary" onclick="grava_pedido2()" style="cursor: pointer; display: inline-block;">Anterior</button>
                 </div> 
                 <div  class="form-group col-md-1" style="display:inline-block; vertical-align: top;">
                 <button id="salva_cliente" class="btn btn-primary" onclick="grava_pedido()" style="cursor: pointer;display: inline-block;">Próximo</button>
                 </div>
            </div>
       </div>
    
       
     
       
                <br>
                
                
               
                 <div id="info_update" style="color: green"></div>
                 
              
            </div>
        
      
    <script>
        function mostra_fotocelulas(){
  	        if (document.getElementById("usar_print").checked === true){
  	            document.getElementById("mostra_fotocelula1").style = "display:none"
  	            document.getElementById("mostra_fotocelula2").style = "display:none"
  	            document.getElementById("mostra_fotocelula3").style = "display:none"
  	        } else {
  	             document.getElementById("mostra_fotocelula1").style = "display:inline-block;"
  	            document.getElementById("mostra_fotocelula2").style = "display:inline-block;"
  	             document.getElementById("mostra_fotocelula3").style = "display:inline-block;"
  	        }
  	        
  	    }
  	    
  	    	function adiciona_cor_fotocelula(){
  	        
  	        var linha = event.srcElement.id
  	        console.log(linha)
  	        var thelabel = linha.replace("a_cor","label_cor")
  	        console.log(thelabel)
  	        console.log(document.getElementById(thelabel).innerText)
  	        var qual_mostra = linha.replace("cor","pct")
  	        if (document.getElementById(linha).checked === true){
  	        document.getElementById(qual_mostra).style = "display: inline-block; width: 20%;"
  	         } else {
  	          document.getElementById(qual_mostra).style = "display: none;"   
  	         }
  	         for (i=0;i<data_pagina.info_step2.cilindros.length;i++){
  	            if (data_pagina.info_step2.cilindros[i].cor  == document.getElementById(thelabel).innerText){
  	                data_pagina.info_step2.cilindros[i].fotocelula = document.getElementById(linha).checked
  	            }
  	        }
  	         
  	      	}
  	          
  	    
        
        
        
        // preenche dados da pagina
        
         var variaveis = api.workable.get_merged_variables(ordem)
  	   
  	   var data_pagina = variaveis.variables.data.value
  	   
  	   document.getElementById("titulo").innerText = "Pedido de Rotogravura"
  	   document.getElementById("subtitulo").innerHTML = " do serviço <strong> "+data_pagina.info_step1.servico+" </strong>, para o cliente <strong> "+data_pagina.info_step1.nome_cliente.FANTASIA+"</strong>" 
     
     
     
     
     var numero = 0
        var busca_select_puxada = document.getElementById("qual_cilindro")
        for (i=0;i<data_pagina.info_step2.cilindros.length;i++){
            if (data_pagina.info_step2.cilindros[i].mesmo_cilindro === false){
            var numero = numero+1
            var nome_cor = data_pagina.info_step2.cilindros[i].cor
             var opt = document.createElement('option');
            opt.value = numero;
            opt.innerHTML = numero+" - "+nome_cor;
            busca_select_puxada.appendChild(opt);
            }
        }
       
           
           
        
        if (data_pagina.info_step3 != undefined){
        document.getElementById("largura_fotocelula").value = data_pagina.info_step3.largura_fotocelula
        document.getElementById("altura_fotocelula").value = data_pagina.info_step3.altura_fotocelula
        document.getElementById("qtde_fotocelula").value = data_pagina.info_step3.qtde_fotocelula
        document.getElementById("passo_fotocelula").value = data_pagina.info_step3.passo_fotocelula
        document.getElementById("largura_fotocelula").value = data_pagina.info_step3.largura_fotocelula
        
        
        
        
        document.getElementById("local_tarja").value = data_pagina.info_step3.local_tarja
        document.getElementById("medida_tarja").value = data_pagina.info_step3.medida_tarja
        document.getElementById("tipo_registro").value = data_pagina.info_step3.tipo_registro
        document.getElementById("valor_puxada").value = data_pagina.info_step3.valor_puxada
        
        for (i=0;i<data_pagina.info_step3.posicao_fotocelula.length;i++){
            var div_pos_foto = data_pagina.info_step3.posicao_fotocelula[i]
            document.getElementById(div_pos_foto).style = "margin-top: 5px; height: 50px; width: 20px; background: black; display: inline-block;"
        }
            
        } else {
            if (data_pagina.info_step1.op_anterior != ""){
                var busca_OP = api.custom_objects.list_with_options("OrdemProducao",["OP","equal to",parseInt(data_pagina.info_step1.op_anterior)]).results
                
                if (busca_OP.length === 1){
                    var a_OP = busca_OP[0].OP_Antiga
                    document.getElementById("largura_fotocelula").value = parseInt(a_OP.LARGFOTO)
                    document.getElementById("altura_fotocelula").value = parseInt(a_OP.ALTFOTO)
                    if (a_OP.PASSOFOTO === ""){
                      document.getElementById("passo_fotocelula").value = 0 
                    } else {
                    document.getElementById("passo_fotocelula").value = parseInt(a_OP.PASSOFOTO)
                    }
                      if (a_OP.PASSOFOTOQTD === ""){
                      document.getElementById("qtde_fotocelula").value = 0 
                    } else {
                    document.getElementById("qtde_fotocelula").value = parseInt(a_OP.PASSOFOTOQTD)
                    }
                    var buscaLocalTarja = api.custom_objects.list_with_options("TBLLOCAIS",["CODIGO","equal to",a_OP.LOCALTARJA]).results
                    if (buscaLocalTarja.length === 1){
                      document.getElementById("local_tarja").value = buscaLocalTarja[0].DESCRICAO  
                    }
                     var buscaLocalRegistro = api.custom_objects.list_with_options("TBLREGISTRO",["CODIGO","equal to",a_OP.REGISTRO]).results
                   if (buscaLocalRegistro.length === 1){
                      document.getElementById("tipo_registro").value = buscaLocalRegistro[0].DESCRICAO  
                    }
                    
                    
                }
            }
        }
        
        
        
        
        
        
  	</script>
  		
  	<script>
  	// funcoes auxiliares
  	
    function clearTable(table) {
  var rows = table.rows;
  var i = rows.length;
  while (--i) {
    rows[i].parentNode.removeChild(rows[i]);
    // or
    // table.deleteRow(i);
  }
}	
  	
function onlyUnique(value, index, self) {
  return self.indexOf(value) === index;
}

  	    //preenche select do cliente
  	    
  	    
   
  	    var listalocais = api.custom_objects.list_with_options("TBLLOCAIS",[],[],["DESCRICAO"]).results;
          var options_locais=''; // variable to store the options
          for(var i = 0; i < listalocais.length; i++){
              
          options_locais += '<option value="'+listalocais[i].DESCRICAO+'" />';
  
          }
           document.getElementById('os_locais').innerHTML = options_locais;
           
            var listaregistro = api.custom_objects.list_with_options("TBLREGISTRO",[],[],["DESCRICAO"]).results;
          var options_registro=''; // variable to store the options
          for(var i = 0; i < listaregistro.length; i++){
              
          options_registro += '<option value="'+listaregistro[i].DESCRICAO+'" />';
  
          }
           document.getElementById('os_registros').innerHTML = options_registro;
  	   
  	</script>
  	<script>
  	    
  	    var fotocelulas = []
  	    
  	    function adiciona_fotocelula(){
  	         var linha = event.srcElement.id
  	         console.log(linha)
  	        var existe = false
  	        for (i=0;i<fotocelulas.length;i++){
  	            if (fotocelulas[i] == linha){
  	                existe = true
  	            }
  	        }
  	        
  	        console.log(existe)
  	        if (existe === false){
  	            var objeto = document.getElementById(linha)
                 objeto.style.background = "black"
                 fotocelulas.push(linha)
  	        } else {
  	            for (i=0;i<fotocelulas.length;i++){
  	                if (fotocelulas[i] == linha){
  	                    var tira = fotocelulas.splice(i,1)
  	                    var objeto = document.getElementById(linha)
                 objeto.style.background = "lightgray"
  	                    
  	                }
  	            }
  	        }
  	        
  	        
  	        
  	    }
  	    
  	    
  	    if (data_pagina.info_step2.cilindros != undefined){
  	        var os_cilindros = data_pagina.info_step2.cilindros
  	        for (i=0;i<os_cilindros.length;i++){
  	            
  	        var numero_fotocelula = i+1
  	        var mostra_cor = "mostra_cor_fotocelula_"+numero_fotocelula
  	         var label_cor = "label_cor_fotocelula_"+numero_fotocelula
  	         var check_cor = "a_cor_fotocelula_"+numero_fotocelula
  	         var pct_cor = "a_pct_fotocelula_"+numero_fotocelula
  	         
  	         var mostra_cor_tarja = "mostra_cor_tarja_"+numero_fotocelula
  	         var label_cor_tarja = "label_cor_tarja_"+numero_fotocelula
  	         var check_cor_tarja = "a_cor_tarja_"+numero_fotocelula
  	         
  	         document.getElementById(mostra_cor).style = "display: inline-block; width: 30%"
  	         document.getElementById(label_cor).innerText = os_cilindros[i].cor
  	                 if (os_cilindros[i].fotocelula === true){
  	                 document.getElementById(check_cor).checked = true
  	                  document.getElementById(pct_cor).value = os_cilindros[i].pct_fotocelula
  	                  document.getElementById(pct_cor).style = "display: inline-block; width: 20%"
  	                 } else {
  	                  
  	                  os_cilindros[i].pct_fotocelula = 100
  	                 }
  	                 
  	                  document.getElementById(mostra_cor_tarja).style = "display: inline-block; width: 30%"
  	                  document.getElementById(label_cor_tarja).innerText = os_cilindros[i].cor
  	                 document.getElementById(check_cor_tarja).checked = os_cilindros[i].tarja
  	                
  	                 
  	             }
  	             
  	      
  	         }
  	         
  	     
  	         
  	       
  	       
  	    
  	    
  	    
  	    
  	    function adiciona_pct_fotocelula(){
  	       var linha = event.srcElement.id
  	        console.log(linha)
  	        
  	        var thelabel = linha.replace("a_pct","label_cor")
  	        console.log(thelabel)
  	        console.log(document.getElementById(thelabel).innerText)
  	        for (i=0;i<data_pagina.info_step2.cilindros.length;i++){
  	            if (data_pagina.info_step2.cilindros[i].cor  == document.getElementById(thelabel).innerText){
  	                data_pagina.info_step2.cilindros[i].pct_fotocelula = document.getElementById(linha).value
  	            }
  	        }
  	          
  	    }
  	    
  	    
  	    function adiciona_cor_tarja(){
  	        
  	        var linha = event.srcElement.id
  	        console.log(linha)
  	         var thelabel = linha.replace("a_cor","label_cor")
  	       // console.log(thelabel)
  	        console.log(document.getElementById(linha).checked)
  	        console.log(document.getElementById(thelabel).innerText)
  	        for (i=0;i<data_pagina.info_step2.cilindros.length;i++){
  	           // console.log(data_pagina.cilindros[i].cor)
  	           // console.log(document.getElementById(thelabel).innerText)
  	            if (data_pagina.info_step2.cilindros[i].cor  == document.getElementById(thelabel).innerText){
  	                
  	                data_pagina.info_step2.cilindros[i].tarja = document.getElementById(linha).checked
  	            }
  	        }
  	        
  	      
  	    }
  	    
  	         
  	  
  	    
  	    
  	</script>
  
  

      <script>
      
      
      var usuario = api.auth.get_current_user()
      var nome_user = "Bem vindo, "+usuario.fullname
      document.getElementById("bemvindo").innerText = nome_user
      </script>
      
      
   <script>
    
    
    function preencheCoresFotocelula(){
            for (i=0;i<10;i++){
            
            
            var numero = i+1
            var mostrar = "mostra_cor_fotocelula_"+numero
            var mostrar2 = "mostra_cor_tarja_"+numero
            
            var olabel = "label_cor_fotocelula_"+numero
            var olabel2 = "label_cor_tarja_"+numero
            
            var ovalor = "a_pct_fotocelula_"+numero
            var ocheck = "a_cor_fotocelula_"+numero
            var ocheck2 = "a_cor_tarja_"+numero
            console.log(mostrar)
            console.log(olabel)
            console.log(ocheck)
            console.log(ovalor)
            if (i<os_cilindros.length){
            document.getElementById(mostrar).style = "display: inline-block; width: 33%"
            document.getElementById(mostrar2).style = "display: inline-block; width: 25%"
            document.getElementById(olabel).innerText = os_cilindros[i].cor
            document.getElementById(olabel2).innerText = os_cilindros[i].cor
            document.getElementById(ocheck).checked = os_cilindros[i].fotocelula
            document.getElementById(ocheck2).checked = os_cilindros[i].tarja
            document.getElementById(ovalor).value = os_cilindros[i].pct_fotocelula
            if (os_cilindros[i].fotocelula == false){
                document.getElementById(ovalor).style = "display: none;"
            }
                
            } else {
            document.getElementById(mostrar).style = "display: none;"
            document.getElementById(mostrar2).style = "display: none;"
            document.getElementById(olabel).innerText = ""
            document.getElementById(olabel2).innerText = ""
            document.getElementById(ocheck).checked = false
            document.getElementById(ocheck2).checked = false
            document.getElementById(ovalor).value = 0
            document.getElementById(ovalor).style = "display: none."
            
             }
             
            
             }
            
        
        
    } 
        
    
    
    
        
    </script>  
      
  
  <script>
      // funcoes de codigo de barras
      
      var os_codigos_barra = []
      
      function adiciona_codigo_barras(){
          var tipo_de_codigo = document.getElementById("tipo_codigo").value
          var o_codigo = document.getElementById("valor_codigo").value
          var existe = false
          
          if (tipo_de_codigo == "undefined"){
              document.getElementById("error_tipo_codigo_barra").innerText = "Selecione o tipo de código"
          } else {
             document.getElementById("error_tipo_codigo_barra").innerText = "" 
          }
          if (o_codigo == ""){
              document.getElementById("error_numero_codigo_barra").innerText = "Não é possível incluir um código em branco"
          } else {
              document.getElementById("error_numero_codigo_barra").innerText = ""
          }
          
          if (tipo_de_codigo != "undefined" && o_codigo != ""){
              var existe = false
              for (i=0;i<os_codigos_barra.length;i++){
                  if (os_codigos_barra[i].tipo == tipo_de_codigo && os_codigos_barra[i].valor == o_codigo){
                      existe = true
                      var indice = i
                  }
              }
              
              console.log
              if (existe === false){
                  var info_codigo = {}
                  info_codigo["tipo"] = tipo_de_codigo
                  info_codigo["valor"] = o_codigo
                  os_codigos_barra.push(info_codigo)
              } 
              
          }
         preencheCodigosBarra() 
      }
      
      function preencheCodigosBarra(){
          var table = document.getElementById("tabelaCodigosBarra")
        clearTable(table)
        var qtasrow = table.rows.length
      
       
        
            
        for (i=0;i<os_codigos_barra.length;i++){
           
            // preenche as cores da fotocelula
            
          
            
            
            var row =  table.insertRow(qtasrow);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            
          
            
            cell1.innerHTML = '<div style="font-size: 1em; display: inline-block;"> '+os_codigos_barra[i].tipo+'</div>'
            cell2.innerHTML = '<div style="font-size: 1em; display: inline-block;" >'+os_codigos_barra[i].valor+'</div>'
            cell3.innerHTML = '<div style="font-size: 1em; display: inline-block; cursor: pointer;" ><img id="'+os_codigos_barra[i].tipo+'_'+os_codigos_barra[i].valor+'" src="./Icons/delete.png" width="50px" onclick="apagar_codigoBarra()"></div>'
         
            qtasrow = qtasrow +1
         
        }    
          
      }
      
      function apagar_codigoBarra(){
           var linha = event.srcElement.id
           var linha_array = linha.split("_")
           console.log(linha_array[0])
           console.log(linha_array[1])
           for (i=0;i<os_codigos_barra.length;i++){
               if (os_codigos_barra[i].tipo == linha_array[0] && os_codigos_barra[i].valor == linha_array[1]){
                   var tira = os_codigos_barra.splice(i,1)
               }
           }
           preencheCodigosBarra()
      }
      
  </script>
  
  <script>
      function grava_pedido2(){
          
        
        
              var info_step3 = {}
            info_step3["largura_fotocelula"] = document.getElementById("largura_fotocelula").value
            info_step3["altura_fotocelula"] = document.getElementById("altura_fotocelula").value
            info_step3["qtde_fotocelula"] = document.getElementById("qtde_fotocelula").value
            info_step3["passo_fotocelula"] = document.getElementById("passo_fotocelula").value
            info_step3["posicao_fotocelula"] = fotocelulas
            info_step3["local_tarja"] = document.getElementById("local_tarja").value
            info_step3["medida_tarja"] = document.getElementById("medida_tarja").value
            info_step3["tipo_registro"] = document.getElementById("tipo_registro").value
            info_step3["logotipo"] = document.getElementById("logotipo").value
            info_step3["valor_puxada"] = document.getElementById("valor_puxada").value
            info_step3["qual_cilindro"] = document.getElementById("qual_cilindro").value
            data_pagina["info_step3"] = info_step3
            
                         var inicia_wizard = api_sync.hub.start_from_whitepaper_with_files_and_variables("CADOP_v2","wizard_passo_1", [] ,{"data":data_pagina,"usuario":usuario});
       
       
        var workable_id = inicia_wizard.workable_id
        var workableConsoleLog = function ()  // a cada 30s roda isso e atualiza a variavel form...
          {
            var variaveis = api.workable.get_merged_variables(workable_id)
           if (variaveis.variables.state.value == "finalizado"){
                console.log("Achei! "+workable_id)
                
                  myStopFunction(workable_id);
              }
        }
	   var workflowTimeout = setInterval(workableConsoleLog, 500);
        function myStopFunction(theID) {
                    clearInterval(workflowTimeout);
                    window.open("wizard_roto_step1.html?ordem="+theID,"_self")
                    }

            
          
          
      }
      
       function grava_pedido(){
          
        
        
            var info_step3 = {}
            info_step3["largura_fotocelula"] = document.getElementById("largura_fotocelula").value
            info_step3["altura_fotocelula"] = document.getElementById("altura_fotocelula").value
            info_step3["qtde_fotocelula"] = document.getElementById("qtde_fotocelula").value
            info_step3["passo_fotocelula"] = document.getElementById("passo_fotocelula").value
            info_step3["posicao_fotocelula"] = fotocelulas
            info_step3["local_tarja"] = document.getElementById("local_tarja").value
            info_step3["medida_tarja"] = document.getElementById("medida_tarja").value
            info_step3["tipo_registro"] = document.getElementById("tipo_registro").value
            info_step3["logotipo"] = document.getElementById("logotipo").value
            info_step3["valor_puxada"] = document.getElementById("valor_puxada").value
            info_step3["qual_cilindro"] = document.getElementById("qual_cilindro").value
            data_pagina["info_step3"] = info_step3
            
            
                         var inicia_wizard = api_sync.hub.start_from_whitepaper_with_files_and_variables("CADOP_v2","wizard_passo_1", [] ,{"data":data_pagina,"usuario":usuario});
       
       
        var workable_id = inicia_wizard.workable_id
        var workableConsoleLog = function ()  // a cada 30s roda isso e atualiza a variavel form...
          {
            var variaveis = api.workable.get_merged_variables(workable_id)
           if (variaveis.variables.state.value == "finalizado"){
                console.log("Achei! "+workable_id)
                
                  myStopFunction(workable_id);
              }
        }
	   var workflowTimeout = setInterval(workableConsoleLog, 500);
        function myStopFunction(theID) {
                    clearInterval(workflowTimeout);
                    window.open("wizard_roto_step3.html?ordem="+theID,"_self")
                    }

            
          
          
      }
  </script>
  
 









    </body>

</html>