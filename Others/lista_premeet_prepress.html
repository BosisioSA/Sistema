<!doctype html>
<html>
    <head>
      <title>Lista Pré Meeting</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      
      <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">

      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <link rel="stylesheet" href="css/style.css">
      <link rel="stylesheet" href="css/table.css">
        <meta name="viewport" content="width=944">
        <meta name="robots" content="noindex, follow">
	<link rel="Shortcut icon" href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/favicon.ico" type="image/x-icon">
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon.png" rel="apple-touch-icon" />
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" />
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72" />
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114" />
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon-1pree44x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144" />
        <link rel="stylesheet" href="fonts/fontawesome-all.min.css">
        <link rel="stylesheet" href="fonts/font-awesome.min.css">
        <link rel="stylesheet" href="fonts/fontawesome5-overrides.min.css">
        <script src="js/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
          <script src="js/jscolor.js"></script>
    
        <script src="/portal.cgi/PP_FILE_STORE/Sistema/assets/js/vendor/modernizr-2.6.2.min.js"></script>
      	<script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery-1.8.3.min.js'></script>
    	<script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery-ui-1.9.2.custom.js'></script>
    	<script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.cookie.js'></script>
    	<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.4.2/chroma.min.js'></script>
    <!-- portal.js -->
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery-linedtextarea.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/codemirror.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/javascript.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.tmpl.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery-regex.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/sitemapstyler.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/date.format.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.iframe-transport.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.fileupload.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.notify.min.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.event.drag-2.2.js'></script>
        <script type='text/javascript' src='/portal.cgi?api=js'></script>
    	<script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/portal/js/nixps-portal-api.js'></script>
        <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.i18n.js'></script>
        <script>
           function logout () {
        	$.cookie('user_id','', { expires: -1, path: '/' });
        	$.cookie('user_hash','', { expires: -1, path: '/' });
        	$.cookie('expiration_date','', { expires: -1, path: '/' });
        	$.cookie('customer_id','', { expires: -1, path: '/' });
        	$.cookie('customer_name', '', { expires: -1 , path: '/' });
       		$.cookie('username', '', { expires: -1 , path: '/' });
        	$.cookie('scope', '', { expires: -1 , path: '/' });
        	window.location = 'http://35.232.192.44:9090/portal.cgi/PP_FILE_STORE/Public/Login/login.html';
    	  }
		

      </script>
      
       
       
   

    </head>


    <body>

  		<div class="wrapper d-flex align-items-stretch">
  			<nav id="sidebar">
  				<div class="p-4 pt-5">
            <img>
  		  		<img src="./logo/logo_valgroup.png" style="width: 90%; margin-bottom: 50px;">
          <ul class="active components mb-5">
                   <li  class="active" style="list-style-type: none">
                    <a href="prepress_dash_sp1.html"><img src="./Icons/global_on.png" width="30px" style="margin-right: 10px;"><span  style="color: black; font-size: 1em">Dashboard</span></a>
                    </li>
                    <li  style="list-style-type: none">
                    <a href="lista_premeet_prepress.html"><img src="./Icons/premeet.png" width="30px" style="margin-right: 10px;"><span  style="color: black; font-size: 1em">Lista Pré Meet</span></a>
                    </li>
        <li id="mostra_upload_menu" style="display: none;">
              <a href="#homeSubmenu4" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><img src="./Icons/uploadedownload.png" width="26px" style="margin-right: 10px">Servidor de Arquivos</a>
           <li  style="list-style-type: none;">
               <ul class="collapse list-unstyled" id="homeSubmenu4">
               <li  style="list-style-type: none">
               <a href="upload_artes.html"><img src="./Icons/upload.png" width="22px" style="margin-right: 10px">Upload Artes</a>
          </li> 
          <li  style="list-style-type: none">
               <a href="download_artes.html"><img src="./Icons/download.png" width="22px" style="margin-right: 10px">Download Artes</a>
          </li> 
          <li  style="list-style-type: none">
               <a href="http://35.232.192.44:9090/portal.cgi?asset=X"><img src="./Icons/assets.png" width="22px" style="margin-right: 10px">Assets</a>
          </li> 
        </ul>
        </li>
                     
                <li>
              <a href="#homeSubmenu2" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><img src="./Icons/fornecedores.png" width="30px" style="margin-right: 10px">Fornecedores</a>
           <li  style="list-style-type: none">
               <ul class="collapse list-unstyled" id="homeSubmenu2">
               <li class="active" style="list-style-type: none">
               <a href="cadastros_fornecedores_flexo_pre.html"><img src="./Icons/flexo.png" width="20px" style="margin-right: 10px">Flexo</a>
          </li>
          <li  style="list-style-type: none">
               <a href="cadastros_fornecedores_roto_pre.html"><img src="./Icons/roto.png" width="20px" style="margin-right: 10px">Roto</a>
          </li>
          <li  style="list-style-type: none">
               <a href="cadastros_fornecedores_anilox_pre.html"><img src="./Icons/anilox.png" width="20px" style="margin-right: 10px">Anilox</a>
          </li>
          <li  style="list-style-type: none">
               <a href="cadastros_fornecedores_pc_pre.html"><img src="./Icons/porta_cliche.png" width="20px" style="margin-right: 10px">Porta Clichê</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_fornecedores_prepress_pre.html"><img src="./Icons/prepress.png" width="20px" style="margin-right: 10px">Prepress</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_fornecedores_materiaprima_pre.html"><img src="./Icons/material.png" width="20px" style="margin-right: 10px">Matéria Prima</a>
          </li>
          </ul>
          
          <li >
              <a  href="#homeSubmenu3" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><img src="./Icons/tecnicos.png" width="30px" style="margin-right: 10px">Cadastros Técnicos</a>
           <li style="list-style-type: none">
               <ul class="collapse list-unstyled" id="homeSubmenu3">
              
          <li  style="list-style-type: none">
               <a href="cadastros_tecnicos_unidades_pre.html"><img src="./Icons/unidades.png" width="20px" style="margin-right: 10px">Unidades</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_tipotrabalho_pre.html"><img src="./Icons/tipo_trabalho.png" width="20px" style="margin-right: 10px">Tipo de Trabalho</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_finalidade_pre.html"><img src="./Icons/finalidade.png" width="20px" style="margin-right: 10px">Finalidade</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_segmentos_pre.html"><img src="./Icons/segmentos.png" width="20px" style="margin-right: 10px">Segmentos</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_testform_pre.html"><img src="./Icons/testform.png" width="20px" style="margin-right: 10px">Test Form</a>
          </li>
          </ul>
          
              
                <li>
              <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><img src="./Icons/sequencia.png" width="30px" style="margin-right: 10px">Sequência Padrão</a>
              <ul class="collapse list-unstyled" id="homeSubmenu">
              <li  style="list-style-type: none">
               <a href="receita_tintas_pre.html"><img src="./Icons/contagotas.png" width="20px" style="margin-right: 10px">Criar Sequência</a>
              </li>
              <li  style="list-style-type: none">
               <a href="lista_receitas_pre.html"><img src="./Icons/listasequencia.png" width="20px" style="margin-right: 10px">Lista Sequências</a>
              </li>
              <li style="list-style-type: none">
               <a href="cadastros_tintas_pre.html"><img src="./Icons/novasequencia.png" width="20px" style="margin-right: 10px">Lista de Cores</a>
              </li>
              </ul>
          </li>
              </ul>
           
   
  	        <div class="footer">
  	        	<p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0.
  						  Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib.com</a>
  						   Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
  	        </div>
  	      </div>
      	</nav>

          <!-- Page Content  -->
        <div id="content" class="p-4 p-md-5">

          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">

              <button type="button" id="sidebarCollapse" class="btn btn-primary">
                <i class="fa fa-bars"></i>
                <span class="sr-only">Toggle Menu</span>
              </button>
              <div id="bemvindo" style="margin-left: 20px;"></div>
              <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                  <i class="fa fa-bars"></i>
              </button>
              <div id="bemvindo" style="margin-left: 20px;"></div>

              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="nav navbar-nav ml-auto">
                 
                  <li class="nav-item">
                      <a class="nav-link" href="alterar_senha.html" target="_Blank">Alterar Senha</a>
                  </li>
                  <li class="nav-item">
                      <div class="nav-link" onclick="logout()" style="cursor:pointer;">Logout</div>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
          <div>
     <div  class="form-group" style="display:none; width: 100%">         
     <div class="form-group" style="display:inline-block; width:9%;margin-right: 0.5%">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px;">Global</div>
                <div style="width: 100%; margin: auto; height: 40px;">
                    <img onclick="select_etapa()" src="./Icons/global_on.png" id="img_global" style="height: 100%; margin-left: auto; margin-right: auto; display: flex;">
                </div>
            <div class="container">
                <div style="text-align: center; font-size: 2.5em;"><strong id="strong_global">0</strong></div>
            </div>
        </div>
    </div>
    <div class="form-group" style="display:inline-block; width:9%;margin-right: 0.5%;">   
        <div class="card">
            <div  style="text-align: center; font-size: 0.8em; margin-bottom: 10px;">Entrada</div>
                <div  style="width: 100%; margin: auto;height: 40px;">
                    <img onclick="select_etapa()" id="img_bureau" src="./Icons/jpgpdf_off.png" style="height: 100%; margin-left: auto; margin-right: auto; display: flex; cursor: pointer;">
                </div>
            <div    class="container">
                <div style="text-align: center; font-size: 2.5em;"><strong id="strong_jpgpdf">0</strong></div>
            </div>
        </div>
    </div>
    
    <div class="form-group" style="display:inline-block; width:9%;margin-right: 0.5%">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px;">Prepress</div>
                <div style="width: 100%; margin: auto;height: 40px;">
                    <img onclick="select_etapa()" src="./Icons/prepress_off.png" id="img_prepress" style="height: 100%; margin-left: auto; margin-right: auto; display: flex;cursor: pointer;">
                </div>
            <div class="container">
                <div style="text-align: center; font-size: 2.5em;"><strong id="strong_prepress">0</strong></div>
            </div>
        </div>
    </div>
    <div class="form-group" style="display:inline-block; width:9%;margin-right: 0.5%">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px;">Prova e Print</div>
                <div style="width: 100%; margin: auto;height: 40px;">
                    <img onclick="select_etapa()" src="./Icons/provaprint_off.png" id="img_provaprint" style="height: 100%; margin-left: auto; margin-right: auto; display: flex;cursor: pointer;">
                </div>
            <div class="container">
                <div style="text-align: center; font-size: 2.5em;"><strong id="strong_provaprint">0</strong></div>
            </div>
        </div>
    </div>
    <div class="form-group" style="display:inline-block; width:9%;margin-right: 0.5%">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px;">Fotopolímeros</div>
                <div style="width: 100%; margin: auto;height: 40px;">
                    <img onclick="select_etapa()" src="./Icons/fotopolimero_off.png" id="img_fotopolimero" style="height: 100%; margin-left: auto; margin-right: auto; display: flex;cursor: pointer;">
                </div>
            <div class="container">
                <div style="text-align: center; font-size: 2.5em;"><strong id="strong_fotopolimero">0</strong></div>
            </div>
        </div>
    </div>
     <div class="form-group" style="display:inline-block; width:9%;margin-right: 0.5%">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px;">Pré Gravação</div>
                <div style="width: 100%; margin: auto;height: 40px;">
                    <img onclick="select_etapa()" src="./Icons/pregravacao_off.png" id="img_pregravacao" style="height: 100%; margin-left: auto; margin-right: auto; display: flex;cursor: pointer;">
                </div>
            <div class="container">
                <div style="text-align: center; font-size: 2.5em;"><strong id="strong_pregavacao">0</strong></div>
            </div>
        </div>
    </div>
     <div class="form-group" style="display:inline-block; width:9%;margin-right: 0.5%">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px;">Galvano</div>
                <div style="width: 100%; margin: auto;height: 40px;">
                    <img onclick="select_etapa()" src="./Icons/galvano_off.png" id="img_galvano" style="height: 100%; margin-left: auto; margin-right: auto; display: flex; cursor: pointer;">
                </div>
            <div class="container">
                <div style="text-align: center; font-size: 2.5em;"><strong id="strong_galvano">0</strong></div>
            </div>
        </div>
    </div>
    
     <div class="form-group" style="display:inline-block; width:9%;margin-right: 0.5%">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px;">Gravação</div>
                <div style="width: 100%; margin: auto;height: 40px;">
                    <img onclick="select_etapa()" src="./Icons/gravacao_off.png" id="img_gravacao" style="height: 100%; margin-left: auto; margin-right: auto; display: flex;cursor: pointer;">
                </div>
            <div class="container">
                <div style="text-align: center; font-size: 2.5em;"><strong id="strong_gravacao">0</strong></div>
            </div>
        </div>
    </div>
     <div class="form-group" style="display:inline-block; width:9%;margin-right: 0.5%">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px;">Análise</div>
                <div style="width: 100%; margin: auto;height: 40px;">
                    <img onclick="select_etapa()" src="./Icons/analise_off.png" id="img_analise" style="height: 100%; margin-left: auto; margin-right: auto; display: flex; cursor: pointer;">
                </div>
            <div class="container">
                <div style="text-align: center; font-size: 2.5em;"><strong id="strong_analise">0</strong></div>
            </div>
        </div>
    </div>
     <div class="form-group" style="display:inline-block; width:9%;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px;">Liberação</div>
                <div style="width: 100%; margin: auto;height: 40px;">
                    <img onclick="select_etapa()" src="./Icons/liberacao_off.png" id="img_liberacao" style="height: 100%; margin-left: auto; margin-right: auto; display: flex; cursor: pointer;">
                </div>
            <div class="container">
                <div style="text-align: center; font-size: 2.5em;"><strong id="strong_liberacao">0</strong></div>
            </div>
        </div>
    </div>
  
 
</div>

<!-- SUBFILTROS -->

<div id="mostrafiltros_bureau" style="display: none">
    <div class="form-group" onclick="select_etapa()" id="select_bureau" style=" display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Todos<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
    
    
    <div class="form-group" onclick="select_etapa()" id="select_bureau" style=" display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Análise Inicial<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
     <div class="form-group" onclick="select_etapa()" id="select_bureau" style=" display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Solicitação de Arte<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
    <div class="form-group" onclick="select_etapa()" id="select_bureau" style=" display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Enviar para Aprovação<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
    <div class="form-group" onclick="select_etapa()" id="select_bureau" style=" display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Arte em Aprovação<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
    <div class="form-group" onclick="select_etapa()" id="select_bureau" style=" display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Desenvolver Prova de Cor<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
    
    
</div>

<div id="mostrafiltros_prepress" style="display: none">
    <div class="form-group" onclick="select_etapa()" id="select_bureau" style="display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Pendências de Arte<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
     <div class="form-group" onclick="select_etapa()" id="select_bureau" style="display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Artes em Desenvolvimento<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
    <div class="form-group" onclick="select_etapa()" id="select_bureau" style="display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Pendências de Prepress<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
    <div class="form-group" onclick="select_etapa()" id="select_bureau" style="display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Prepress em Desenvolvimento<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
    <div class="form-group" onclick="select_etapa()" id="select_bureau" style="display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Pendências de Provas Digitais<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
    
    
</div>

<div id="mostrafiltros_provaprint" style="display: none;">
    <div class="form-group" onclick="select_etapa()" id="select_bureau" style="display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Fazer Prova para Cliente<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
     <div class="form-group" onclick="select_etapa()" id="select_bureau" style="display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Fazer Prova para Prepress<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
    <div class="form-group" onclick="select_etapa()" id="select_bureau" style="display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Fazer Print para Cliente<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
    <div class="form-group" onclick="select_etapa()" id="select_bureau" style="display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Provas Digitais em Aprovação<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
    <div class="form-group" onclick="select_etapa()" id="select_bureau" style="display:inline-block; width:15%;margin-right: 1%; cursor:pointer;">   
        <div class="card">
            <div style="text-align: center; font-size: 0.8em; margin-bottom: 10px; margin-top: 10px; display:inline-block;">Prints em Aprovação<strong id="strong_analiseinicial" style="margin-left: 5px; display:inline-block;">0</strong></div>
            
        </div>
    </div>
    
    
</div>




              
          <h5 id="a_div_testform" style="display: none;"><i id="testformArrow" class="fas fa-plus-square" onclick="mostraTestforms()" style="display: none; margin-right: 5px; cursor:pointer;"></i>Ticket</h5>
                 <div id="info_testform" class="form-group" style="display: none">
       
        
   
    
        <div  class="form-group col-md-4" style="display:inline-block; vertical-align: top;">
        <label for="cliente">Cliente</label>
                   <input type="text" class="form-control" id="cliente"  name="cliente" list="os_clientes">
                   <datalist id="os_clientes"></datalist>
        </div>
        <div  class="form-group col-md-4" style="display:inline-block; vertical-align: top;">
    <label>Tipo de Trabalho</label><br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" onclick="seleciona_tipo_trabalho()"  id="inlineRadio24" value="Novo">
        <label class="form-check-label" for="inlineRadio24">Novo</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" onclick="seleciona_tipo_trabalho()" id="inlineRadio23" value="Alteração" checked>
        <label class="form-check-label" for="inlineRadio23">Alteração</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" onclick="seleciona_tipo_trabalho()"  id="inlineRadio26" value="Sem Pedido">
        <label class="form-check-label" for="inlineRadio26">Arte sem Pedido</label>
    </div><br> 
     <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" onclick="seleciona_tipo_trabalho()"  id="inlineRadio25" value="Regravação">
        <label class="form-check-label" for="inlineRadio25">Regravação</label>
    </div>
   
     <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" onclick="seleciona_tipo_trabalho()"  id="inlineRadio261" value="Duplicação">
        <label class="form-check-label" for="inlineRadio261">Duplicar Item</label>
    </div>
    </div>
 
     
     <div id="mostrar_selecionar_amostra"  class="form-group col-md-3" style="display:inline-block; vertical-align: top;">
    <label>Amostra?</label><br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions7" onclick="seleciona_amostra()" id="inlineRadio15" value="Sim">
        <label class="form-check-label" for="inlineRadio15">Sim</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions7" onclick="seleciona_amostra()"  id="inlineRadio16" value="Não" checked>
        <label class="form-check-label" for="inlineRadio16">Não</label>
    </div>
    </div>
        
    <div id="mostrar_novos_projetos" class="form-group col-md-3" style="display:inline-block; vertical-align: top;">
    <label>Envolve Área de Novos Projetos</label><br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions2" onclick="seleciona_novoprojeto()" id="inlineRadio4" value="Sim">
        <label class="form-check-label" for="inlineRadio4">Sim</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions2" onclick="seleciona_novoprojeto()"  id="inlineRadio5" value="Não" checked>
        <label class="form-check-label" for="inlineRadio5">Não</label>
    </div>
    </div>
     
         <div  class="form-group col-md-8" style="display:inline-block;">
             <div  class="form-group" style="display:inline-block; width: 100%;">
                <label for="descricao">Descrição do Item</label>
                   <input type="text" class="form-control" id="descricao"  name="descricao">
            </div>
            
        </div>
        <div  class="form-group col-md-3" style="display:inline-block; vertical-align: top;">
    <label>Usar Referência</label><br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions3" onclick="seleciona_referencia()" id="inlineRadio6" value="Sim">
        <label class="form-check-label" for="inlineRadio6">Sim</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions3" onclick="seleciona_referencia()"  id="inlineRadio7" value="Não" checked>
        <label class="form-check-label" for="inlineRadio7">Não</label>
    </div>
    </div>
    <div id="mostrar_item_referencia" class="form-group col-md-8" style="display:none;">
                <label for="item_referencia">Item de Referência</label>
                   <input type="text" class="form-control" id="item_referencia"  name="item_referencia">
        </div>
     
    <div  class="form-group col-md-11" style="display:inline-block;">
                <label for="observacoes">Observações Pertinentes</label><textarea class="form-control" id="observacoes" name="observacoes" rows="4"></textarea>
            </div>
       
    
                 
               
                 
                 
                 
                 <hr>
                 <h6>Informações Comerciais</h6>
                  <div  class="form-group col-md-3" style="display:inline-block;">
                <label for="data_abertura">Data de Abertura</label>
                   <input type="date" class="form-control" id="data_abertura"  name="data_abertura" readonly>
        </div>
          <div id="mostrar_cobrar_cilindros" class="form-group col-md-2" style="display:inline-block; vertical-align: top;">
    <label>Cobrar Cilindros?</label><br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions4"  id="inlineRadio8" value="Sim">
        <label class="form-check-label" for="inlineRadio8">Sim</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions4"   id="inlineRadio9" value="Não" checked>
        <label class="form-check-label" for="inlineRadio9">Não</label>
    </div>
    </div>
     <div  class="form-group col-md-5" style="display:inline-block; vertical-align: top;">
    <label>Processo</label><br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions5"  id="inlineRadio10" value="Rotogravura" checked>
        <label class="form-check-label" for="inlineRadio10">Rotogravura</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions5"   id="inlineRadio11" value="Flexografia">
        <label class="form-check-label" for="inlineRadio11">Flexografia</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions5"   id="inlineRadio12" value="Sem Impressão">
        <label class="form-check-label" for="inlineRadio12">Sem Impressão</label>
    </div>
    </div>
    <br>
    <div id="mostrar_prazo_entrega"  class="form-group col-md-3" style="display:inline-block;">
                <label for="data_entrega">Prazo de Entrega</label>
                   <input type="date" class="form-control" id="data_entrega"  name="data_entrega">
        </div>
        <div  class="form-group col-md-3" style="display:inline-block;">
                <label for="versao_arte">Versão da Arte</label>
                   <input type="text" class="form-control" id="versao_arte"  name="versao_arte">
        </div>
        <div  class="form-group col-md-5" style="display:inline-block; vertical-align: top;">
    <label>Utilização de Logo Valgroup</label><br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions6"  id="inlineRadio13" value="Sim" checked>
        <label class="form-check-label" for="inlineRadio13">Sim</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions6"   id="inlineRadio14" value="Não">
        <label class="form-check-label" for="inlineRadio14">Não</label>
    </div>
    
    </div>
                 
                    <hr>
    <div id="mostrar_amostra" style="display: none;">
     <h6>Informações Amostra</h6>
      <div  class="form-group col-md-6" style="display:inline-block; vertical-align: top;">
      <div  class="form-group col-md-6" style="display:inline-block;">
                <label for="contato_cliente">Nome do Contato</label>
                   <input type="text" class="form-control" id="contato_cliente"  name="contato_cliente">
        </div>
        <div  class="form-group col-md-5" style="display:inline-block;">
                <label for="emailcontato_cliente">E-mail do Contato</label>
                   <input type="text" class="form-control" id="emailcontato_cliente"  name="emailcontato_cliente">
        </div>
        <div  class="form-group col-md-6" style="display:inline-block;">
                <label for="telcontato_cliente">Tel. do Contato</label>
                   <input type="text" class="form-control" id="telcontato_cliente"  name="telcontato_cliente">
        </div>
        <div  class="form-group col-md-5" style="display:inline-block;">
                <label for="setorcontato_cliente">Setor do Contato</label>
                   <input type="text" class="form-control" id="setorcontato_cliente"  name="setorcontato_cliente">
        </div>
    </div>
    <div  class="form-group col-md-5" style="display:inline-block; vertical-align: top;">
         <div  class="form-group col-md-11" style="display:inline-block; vertical-align: top;">
    <label>Há um projeto semelhante?</label><br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions8" onclick="seleciona_produto_semelhante()"  id="inlineRadio17" value="Sim">
        <label class="form-check-label" for="inlineRadio17">Sim</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions8" onclick="seleciona_produto_semelhante()"  id="inlineRadio18" value="Não" checked>
        <label class="form-check-label" for="inlineRadio18">Não</label>
    </div>
    
    </div>
    <div id="mostrar_produto_semelhante" class="form-group col-md-11" style="display:none;">
                <label for="produto_semelhante">Produto Semelhante</label>
                   <input type="text" class="form-control" id="produto_semelhante"  name="produto_semelhante">
        </div>
    </div>
     <div  class="form-group col-md-5" style="display:inline-block; vertical-align: top;">
    <div  class="form-group col-md-11" style="display:inline-block;">
                <label for="estrutura_atual">Estrutura Atual</label>
                   <input type="text"  class="form-control" id="estrutura_atual"  name="estrutura_atual">
                      
        </div>
        <div  class="form-group col-md-11" style="display:inline-block;">
                <label for="estrutura_solicitada">Estrutura Solicitada</label>
                   <input type="text"  class="form-control" id="estrutura_solicitada"  name="estrutura_solicitada">
                     
        </div>
    </div>
     <div  class="form-group col-md-3" style="display:inline-block; vertical-align: top;">
        <div  class="form-group col-md-11" style="display:inline-block; vertical-align: top;">
    <label>Unidade de Medida</label><br>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions9" onclick="seleciona_unidade_medida()" id="inlineRadio27" value="Milheiro" checked>
        <label class="form-check-label" for="inlineRadio27">Milheiro</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions9" onclick="seleciona_unidade_medida()"  id="inlineRadio28" value="Kilos">
        <label class="form-check-label" for="inlineRadio28">Kg</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions9"  onclick="seleciona_unidade_medida()" id="inlineRadio29" value="Outro">
        <label class="form-check-label" for="inlineRadio29">Outro</label>
    </div>
    
    </div>
    <div id="mostrar_outra_unidade" class="form-group col-md-11" style="display:none;">
                <label for="outra_unidade">Outra unidade</label>
                   <input type="text" class="form-control" id="outra_unidade"  name="outra_unidade">
        </div>
    </div>
     <div  class="form-group col-md-3" style="display:inline-block; vertical-align: top;">
       <div  class="form-group col-md-11" style="display:inline-block;">
                <label for="quantidade_solicitada">Qtde Solicitada</label>
                   <input type="number" class="form-control" id="quantidade_solicitada"  name="quantidade_solicitada" value="0">
        </div> 
        <div  class="form-group col-md-11" style="display:inline-block;">
                <label for="volume_previsto">Volume Previsto</label>
                   <input type="number" class="form-control" id="volume_previsto"  name="volume_previsto" value="0">
        </div> 
    </div>
         <div  class="form-group col-md-5" style="display:inline-block; vertical-align: top;">
            <label>Tipo do Produto</label><br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions11"  id="inlineRadio19" value="Inovação">
                <label class="form-check-label" for="inlineRadio19">Inovação</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions11"  id="inlineRadio20" value="Maquinabilidade">
                <label class="form-check-label" for="inlineRadio20">Maquinabilidade</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions11"  id="inlineRadio21" value="Melhoria">
                <label class="form-check-label" for="inlineRadio21">Melhoria</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions11"  id="inlineRadio22" value="Novo Produto" checked>
                <label class="form-check-label" for="inlineRadio22">Novo Produto</label>
            </div>
            
            
            
    </div>
    
        
        <div  class="form-group col-md-5" style="display:inline-block; vertical-align: top;">
            <label>Tipo de Arte</label><br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions10"  id="inlineRadio30" value="Completa" checked>
                <label class="form-check-label" for="inlineRadio30">Completa</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions10"  id="inlineRadio31" value="PB">
                <label class="form-check-label" for="inlineRadio31">P/B</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions10"  id="inlineRadio32" value="Sem Impressõa">
                <label class="form-check-label" for="inlineRadio32">Sem Impressão</label>
            </div>
            
    </div>
    <hr>
    </div>
    <div id="info_ticket">``</div>
    <button class="btn btn-primary" onclick="verifica_campos()">Salvar Ticket</button><br>
  
        
                
              
         </div>
        
         
        
        <table id="tabela_prioridades" class="table custom-table" style="display: inline-block">
          <thead>
            <tr>
             
             
              <th class="th-sm" style="width:3%;vertical-align: top;">
              </th>
              <th class="th-sm" style="width:5%;vertical-align: top;">Ticket
              </th>
              <th class="th-sm" style="width:10%;vertical-align: top;">Cliente
              </th>
              <th class="th-sm" style="width:12%;vertical-align: top;">Item
              </th>
              <th class="th-sm" style="width:25%;vertical-align: top;">Descrição
              </th>
              <th class="th-sm" style="width:8%;vertical-align: top;">Tipo
              </th>
              <th class="th-sm" style="width:3%;vertical-align: top;">Eng
              </th>
              <th class="th-sm" style="width:3%;vertical-align: top;">Des
              </th>
              <th class="th-sm" style="width:3%;vertical-align: top;">Pre
              </th>
               <th class="th-sm" style="width:3%;vertical-align: top;">PCP
              </th>
              <th class="th-sm" style="width:3%;vertical-align: top;">Imp
              </th>
              <th class="th-sm" style="width:11%;vertical-align: top;">Data Entrada
              </th>
              <th class="th-sm" style="width:11%;vertical-align: top;">Data IMP
              </th>
              
              
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
        
        <br>
        
       
        <br>
                 
                 
       
            
             
            
            
            <!-- terminar mostra locais e começa mostra registro -->
            
          
          
           
                <br>
               
              
            </div>
        
       
  	
  		
  	
  	<script>
  	    // funcoes de apoio
  	    
  	    function padWithZero(num, targetLength) {
  return String(num).padStart(targetLength, '0')
}
  	    
  	    var usuario = api.auth.get_current_user()
  	    
  	    document.getElementById("bemvindo").innerText = "Bem vindo, "+usuario.fullname
  	 //   document.getElementById("data_entrega").value = "02:00"
  	    
      function clearTable(table) {
  var rows = table.rows;
  var i = rows.length;
  while (--i) {
    rows[i].parentNode.removeChild(rows[i]);
    // or
    // table.deleteRow(i);
  }
}

function onlyUnique(value, index, self) {
  return self.indexOf(value) === index;
}

function cmyk2rgb(c, m, y, k, normalized){
    c = (c / 100);
    m = (m / 100);
    y = (y / 100);
    k = (k / 100);
    
    c = c * (1 - k) + k;
    m = m * (1 - k) + k;
    y = y * (1 - k) + k;
    
    var r = 1 - c;
    var g = 1 - m;
    var b = 1 - y;
    
    if(!normalized){
        r = Math.round(255 * r);
        g = Math.round(255 * g);
        b = Math.round(255 * b);
    }
    
    return {
        r: r,
        g: g,
        b: b
    }
}

function rgb2cmyk(r, g, b, normalized){
    var c = 1 - (r / 255);
    var m = 1 - (g / 255);
    var y = 1 - (b / 255);
    var k = Math.min(c, Math.min(m, y));
    
    c = (c - k) / (1 - k);
    m = (m - k) / (1 - k);
    y = (y - k) / (1 - k);
    
    if(!normalized){
        c = Math.round(c * 10000) / 100;
        m = Math.round(m * 10000) / 100;
        y = Math.round(y * 10000) / 100;
        k = Math.round(k * 10000) / 100;
    }
    
    c = isNaN(c) ? 0 : c;
    m = isNaN(m) ? 0 : m;
    y = isNaN(y) ? 0 : y;
    k = isNaN(k) ? 0 : k;
    
    return {
        c: c,
        m: m,
        y: y,
        k: k
    }
}


function componentToHex(c) {
  var hex = c.toString(16);
  return hex.length == 1 ? "0" + hex : hex;
}

function rgbToHex(r, g, b) {
  return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
}

// preenche dados se existe ordem

if (usuario.scope_name != undefined){
    var nome_scope = usuario.scope_name[0].split("_")
   
}


if (usuario.active_scope_name == "prepress_sp1"){
    document.getElementById("mostra_upload_menu").style.display = "block"
    

}


// preenche Selects


// selectAnilox = document.getElementById('o_anilox_flexo');
 //   var tiposTipo = api.custom_objects.list_with_options("BR-VALFI_anilox",["situacao","not equal to","BLOQUEADO"]).results
  //  for (var i = 0; i<tiposTipo.length; i++){
//        var opt = document.createElement('option');
 //       opt.value = tiposTipo[i].numero;
  //      opt.innerHTML = tiposTipo[i].numero;
//        selectAnilox.appendChild(opt);
 //   }
    
  
    
   
   
    
   
    
    // preenche Datalist
    
     var listaCodigo2 = api.custom_objects.list_with_options("BR-VALFI_clientes",[],["fantasia","ascending"],["fantasia"]).results;
          var options=''; // variable to store the options
          for(var i = 0; i < listaCodigo2.length; i++){
              
          options += '<option value="'+listaCodigo2[i].fantasia+'" />';
  
          }
           document.getElementById('os_clientes').innerHTML = options;
           
 function carrega_pantones(){          
  var as_tintas = api.custom_objects.list("PantoneColor").results
        
        
         var options=''; // variable to store the options
        for(var i = 0; i < as_tintas.length; i++){
            
        options += '<option value="'+as_tintas[i].nome+'" />';

        }
         document.getElementById('as_cores').innerHTML = options;
 }
         

//var as_referencias = ["AMOSTRA","CARTELA","CROMIA","PANTONE","LAB"]
        
        
  //       var options=''; // variable to store the options
//        for(var i = 0; i < as_referencias.length; i++){
            
  //      options += '<option value="'+as_referencias[i]+'" />';

    //    }
      //   document.getElementById('lista_referencias').innerHTML = options;
         
         
         
         
// preenche data de hoje

var hoje = new Date()

  	</script>
   <script>
       function salva_ticket(){
           var data = {}
            data["tipo_trabalho"] = document.getElementById("tipo_trabalho").value
            data["criado_em"] = new Date()
            data["criado_por"] = usuario
            var info_arte = {}
            info_arte["codigo"] = document.getElementById("codigo_arte").value
            info_arte["revisao"] = document.getElementById("arte_revisao").value
            info_arte["evolucao"] = document.getElementById("arte_evolucao").value
            data["info_arte"] = info_arte
            data["cliente"] = document.getElementById("cliente").value
            data["responsavel_comercial"] = document.getElementById("responsavel_comercial").value
            data["descricao"] = document.getElementById("descricao").value
            data["item"] = document.getElementById("item").value
            data["item_referencia"] = document.getElementById("item_referencia").value
            data["priorizado"] = false
            data["arte_iniciado"] = false
            data["arte_finalizado"] = false
            data["ticket_dg"] = document.getElementById("numero_ticket").value
            var info_checklist = {}
            info_checklist["Arte OK"] = document.getElementById("Arte OK").checked
            info_checklist["Referencia de Cor"] = document.getElementById("Referencia de Cor").checked
            info_checklist["Especificacao"] = document.getElementById("Especificacao").checked
            data["checklist_entrada"] = info_checklist
            console.log(data)
            var info_observa = {}
            info_observa["quem"] = usuario
            info_observa["quando"] = new Date()
            info_observa["texto"] = document.getElementById("observacoes").value
            var as_observacoes = []
            as_observacoes.push(info_observa)
            data["observacoes"] = as_observacoes
            
            
            //api.custom_objects.create("BR-VALFI_Tickets",data)
           
           // document.getElementById("info_ticket").innerText = "Ticket criado com sucesso!"
            
           setTimeout(function(){document.getElementById("info_ticket").innerText = ""}, 3000);
       }
       
      
   </script>
   <script>
    var tintas_flexo = []
    function adicionar_tinta_flexo(){
       var valor_hex = chroma(document.getElementById("acor").style.backgroundColor).hex()
         
        if (document.getElementById("altera_tinta").innerText == "99"){
        var info_tinta = {}
        info_tinta["cor"] = document.getElementById("nome").value
        info_tinta["referencia_cor"] = document.getElementById("nome_referencia").value
    //    info_tinta["referencia_fisica"] = document.getElementById("referencia_fisica_valor").value
    
        
        info_tinta["referencia_tinta"] = document.getElementById("referencia_tinta").value
        info_tinta["lineatura"] = document.getElementById("a_lineatura_flexo").value
        info_tinta["angulo"] = document.getElementById("o_angulo_flexo").value
        info_tinta["diamante"] = document.getElementById("o_diamante_flexo").value
        info_tinta["rugosidade_minima"] = document.getElementById("rugosidade_minima").value
        info_tinta["rugosidade_maxima"] = document.getElementById("rugosidade_maxima").value
        info_tinta["anilox"] = document.getElementById("o_anilox_flexo").value
        info_tinta["dupla_face"] = document.getElementById("a_dupla_flexo").value
        if (document.getElementById("inlineRadio1").checked === true){
        var busca_anilox = api.custom_objects.list_with_options("BR-VALFI_anilox",["numero","equal to",info_tinta.anilox]).results[0]
        info_tinta["bcm"] = busca_anilox.alteracoes_bcm[busca_anilox.alteracoes_bcm.length-1].atual
        } else {
        info_tinta["bcm"] = ""    
            
        }
        info_tinta["cameron"] = false
        info_tinta["fotocelula"] = false
        info_tinta["ref_kit"] = document.getElementById("ref_kit").value
        var info_cor = {}
        info_cor["L"] = document.getElementById("valor_L").value
        info_cor["a"] = document.getElementById("valor_A").value
        info_cor["b"] = document.getElementById("valor_B").value
        info_tinta["Lab"] = info_cor
        info_tinta["hex"] = valor_hex
        info_tinta["observacoes"] = document.getElementById("observacoes").value
        tintas_flexo.push(info_tinta)
          document.getElementById("error_tinta").style = "color: green"
         document.getElementById("error_tinta").innerText = "A cor foi criada com sucesso"
         setTimeout(document.getElementById("error_tinta").innerText = "", 3000)
        
        } else {
            var qual_tinta = parseInt(document.getElementById("altera_tinta").innerText)
            
            tintas_flexo[qual_tinta]["cor"] = document.getElementById("nome").value
            tintas_flexo[qual_tinta]["referencia_tinta"] = document.getElementById("referencia_tinta").value
            tintas_flexo[qual_tinta]["referencia_cor"] = document.getElementById("nome_referencia").value
          //  tintas_flexo[qual_tinta]["referencia_fisica"] = document.getElementById("referencia_fisica_valor").value
    
            tintas_flexo[qual_tinta]["lineatura"] = document.getElementById("a_lineatura_flexo").value
            tintas_flexo[qual_tinta]["angulo"] = document.getElementById("o_angulo_flexo").value
            tintas_flexo[qual_tinta]["diamante"] = document.getElementById("o_diamante_flexo").value
            tintas_flexo[qual_tinta]["anilox"] = document.getElementById("o_anilox_flexo").value
            tintas_flexo[qual_tinta]["rugosidade_minima"] = document.getElementById("rugosidade_minima").value
            tintas_flexo[qual_tinta]["rugosidade_maxima"] = document.getElementById("rugosidade_maxima").value
        
            
            tintas_flexo[qual_tinta]["dupla_face"] = document.getElementById("a_dupla_flexo").value
            tintas_flexo[qual_tinta]["ref_kit"] = document.getElementById("ref_kit").value
             var busca_anilox = api.custom_objects.list_with_options("BR-VALFI_anilox",["numero","equal to",document.getElementById("o_anilox_flexo").value]).results[0]
            tintas_flexo[qual_tinta]["bcm"] = busca_anilox.alteracoes_bcm[busca_anilox.alteracoes_bcm.length-1].atual
            var info_cor = {}
            info_cor["L"] = document.getElementById("valor_L").value
            info_cor["a"] = document.getElementById("valor_A").value
            info_cor["b"] = document.getElementById("valor_B").value
            tintas_flexo[qual_tinta]["Lab"] = info_cor
            tintas_flexo[qual_tinta]["hex"] = valor_hex
            tintas_flexo[qual_tinta]["observacoes"] = document.getElementById("observacoes").value
           
            document.getElementById("error_tinta").style = "color: green"
         document.getElementById("error_tinta").innerText = "A cor foi alterada com sucesso"
         setTimeout(document.getElementById("error_tinta").innerText = "", 3000)
           
        }
        
        document.getElementById("nome").value = ""
        document.getElementById("nome_referencia").value = ""
        document.getElementById("referencia_tinta").value = ""
        document.getElementById("a_dupla_flexo").value = "undefined"
        document.getElementById("ref_kit").value = ""
        document.getElementById("valor_L").value = ""
        document.getElementById("valor_A").value = ""
        document.getElementById("valor_B").value = ""
        document.getElementById("observacoes").value = ""
        document.getElementById("rugosidade_minima").value = ""
        document.getElementById("rugosidade_maxima").value = ""
        document.getElementById("o_angulo_flexo").value = ""
        document.getElementById("o_diamante_flexo").value = ""
        document.getElementById("a_lineatura_flexo").value = ""
        document.getElementById("o_anilox_flexo").value = ""
        document.getElementById("observacoes").value = ""
        document.getElementById("acor").style = "background-color: rgb(255, 255, 255); width: 30px; border: none; display: inline-block;"
        document.getElementById("altera_tinta").innerText = "99"
        
        
        
        
        
       
        
        preenche_tabela_receita()
      
        
    }
    
    function adiciona_cor_vazia(){
         var info_tinta = {}
        info_tinta["cor"] = "SEM USO"
    
        
        info_tinta["referencia_tinta"] = ""
        info_tinta["lineatura"] = ""
        info_tinta["anilox"] = ""
        info_tinta["angulo"] = ""
        info_tinta["diamante"] = ""
        info_tinta["ref_kit"] = ""
        info_tinta["referencia_cor"] = ""
        info_tinta["rugosidade_minima"] = "N"
        info_tinta["rugosidade_maxima"] = "A"
        info_tinta["bcm"] = ""
        info_tinta["dupla_face"] = ""
        info_tinta["cameron"] = false
        info_tinta["fotocelula"] = false
        info_tinta["Lab"] = ""
        info_tinta["hex"] = "#CCC"
        info_tinta["observacoes"] = ""
        tintas_flexo.push(info_tinta)
        
        preenche_tabela_receita()
    }
</script>
<script>
    function preenche_tabela_receita(){
       
        
        
        clearTable(document.getElementById("tabela_receitas_flexo"))
          
          
         var table = document.getElementById("tabela_receitas_flexo")
        var qtasrow = table.rows.length
      
            
            for (i=0;i<tintas_flexo.length;i++){
            var row =  table.insertRow(qtasrow);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);
            var cell6 = row.insertCell(5);
            var cell7 = row.insertCell(6);
            var cell8 = row.insertCell(7);
            var cell9 = row.insertCell(8);
            var cell10 = row.insertCell(9);
            var cell11 = row.insertCell(10);
           
           
           var numero_cilindro = i+1
           
           cell1.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell3.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell5.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell7.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell9.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell11.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell2.style = "padding: 5px; border: 2px solid lightgray;"
           cell4.style = "padding: 5px; border: 2px solid lightgray;"
           cell6.style = "padding: 5px; border: 2px solid lightgray;"
           cell8.style = "padding: 5px; border: 2px solid lightgray;"
           cell10.style = "padding: 5px; border: 2px solid lightgray;"
            
           cell1.innerHTML = '<div style="font-size: 0.8em; display: inline-block;"><input type="checkbox" id="batch_'+tintas_flexo[i].cor+'" onclick="batch_tintas()"><div style="display:inline-block; margin-left: 3px"><i onclick="move_acima()" id="'+i+'" class="fas fa-arrow-up" style="margin-right: 5px; cursor: pointer;"></i><i  onclick="move_abaixo()" id="'+i+'" class="fas fa-arrow-down" style="margin-right: 5px;cursor: pointer;"></i><span style="margin-top:5px;height:20px;width:20px;background-color:'+tintas_flexo[i].hex+';border-radius:50%;display:inline-block"></span></div><span style="display: inline-block;"></span></div><strong> '+numero_cilindro+' - '+tintas_flexo[i].cor+'</strong></div>'
           cell2.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].referencia_tinta+'</div>'
           cell3.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].lineatura+'</div>'
           cell4.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].anilox+'</div>'
            cell5.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].bcm+'</div>'
           cell6.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].dupla_face+'</div>'
         
          if (tintas_flexo[i].cameron === false){
           cell7.innerHTML = '<div style="font-size:1em; cursor: pointer"><input type="checkbox" id="'+tintas_flexo[i].cor+'" onchange="coloca_cameron()"></div>'
          } else {
             cell7.innerHTML = '<div style="font-size:1em; cursor: pointer"><input type="checkbox" id="'+tintas_flexo[i].cor+'" onchange="coloca_cameron()" checked></div>' 
          }
            if (tintas_flexo[i].fotocelula === false){
           cell8.innerHTML = '<div style="font-size:1em; cursor: pointer"><input type="checkbox" id="'+tintas_flexo[i].cor+'" onchange="coloca_fotocelula()"></div>'
            } else {
              cell8.innerHTML = '<div style="font-size:1em; cursor: pointer"><input type="checkbox" id="'+tintas_flexo[i].cor+'" onchange="coloca_fotocelula()" checked></div>'
             
            }
              cell9.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].ref_kit+'</div>'
        
            cell10.innerHTML = '<div><img id="'+tintas_flexo[i].cor+'" src="Icons/Edit.png" height="30px" onclick="editarTinta()" style="cursor: pointer;"></div>'
            
            cell11.innerHTML = '<div><img id="'+tintas_flexo[i].cor+'" src="Icons/delete.png" height="30px" onclick="apagarTinta()" style="cursor: pointer;"></div>'
            qtasrow = qtasrow +1
      
      
        
        
            }
    }
    var tintas_batch = []
    function batch_tintas(){
      var linha = event.srcElement.id
      var linha_array = linha.split("_")
      var qual_apagar = linha_array[1]
      if (document.getElementById(linha).checked === true){
          tintas_batch.push(qual_apagar)
      } else {
          
          for (i=0;i<tintas_batch.length;i++){
              if (tintas_batch[i] == qual_apagar){
                  var tira = tintas_batch.splice(i,1)
              }
          }
      }
      if (tintas_batch.length === 0){
          document.getElementById("botao_batch").style = "display: none"
      } else {
          
          document.getElementById("botao_batch").style = "cursor:pointer;display: inline-block; margin-left: 55%; background-color: red; border-color; firebrick;"
      }
      
      
        
    }
    
    function apagar_em_batch(){
        for (i=0;i<tintas_batch.length;i++){
            var nome_tinta = tintas_batch[i]
            for (j=0;j<tintas_flexo.length;j++){
                if (tintas_flexo[j].cor == nome_tinta){
                    var tira = tintas_flexo.splice(j,1)
                }
                
            }
        }
        
        preenche_tabela_receita()
        
    }
    
    function move_acima(){
       var linha = parseInt(event.srcElement.id)
     //  console.log(linha)
     
       
      
        if (linha > 0){
       array_move(tintas_flexo,linha,linha-1)
        }

       preenche_tabela_receita()
 
        
    }
        
        function move_abaixo(){
          var linha = parseInt(event.srcElement.id)
    //   console.log(linha)
       if (linha < tintas_flexo.length-1){
           array_move(tintas_flexo,linha,linha+1)
       }
       
       preenche_tabela_receita()
 
       }
       
       function coloca_cameron(){
           var linha = event.srcElement.id
           
           for (i=0;i<tintas_flexo.length;i++){
               if (tintas_flexo[i].cor === linha){
                   tintas_flexo[i].cameron = document.getElementById(linha).checked
               }
           }
       }
       
       function coloca_fotocelula(){
           var linha = event.srcElement.id
           
           for (i=0;i<tintas_flexo.length;i++){
               if (tintas_flexo[i].cor === linha){
                   
                   tintas_flexo[i].fotocelula = document.getElementById(linha).checked
               }
           }
       }
      
        
    
    
    
    
    
    
    
     function apagarTinta(){
    if (confirm("Deseja mesmo apagar essa tinta?") === true){     
    var linha = event.srcElement.id
    for (i=0;i<tintas_flexo.length;i++){
        if (tintas_flexo[i].cor === linha){
            var tira = tintas_flexo.splice(i,1)
        }
    }
    preenche_tabela_receita()    
    }
     }
    
     function editarTinta(){
     var linha = event.srcElement.id
   for (i=0;i<tintas_flexo.length;i++){
       if (tintas_flexo[i].cor === linha){
           document.getElementById("altera_tinta").innerText = i
           
         document.getElementById("nome").value = tintas_flexo[i].cor
          document.getElementById("nome_referencia").value = tintas_flexo[i].referencia_cor
      //    document.getElementById("referencia_fisica_valor").value = tintas_flexo[i].referencia_fisica
         
        document.getElementById("referencia_tinta").value = tintas_flexo[i].referencia_tinta
        document.getElementById("o_angulo_flexo").value = tintas_flexo[i].angulo
        document.getElementById("o_diamante_flexo").value = tintas_flexo[i].diamante
        document.getElementById("rugosidade_minima").value = tintas_flexo[i].rugosidade_minima
        document.getElementById("rugosidade_maxima").value = tintas_flexo[i].rugosidade_maxima
        
        document.getElementById("a_lineatura_flexo").value = tintas_flexo[i].lineatura
        document.getElementById("o_anilox_flexo").value = tintas_flexo[i].anilox
         document.getElementById("a_dupla_flexo").value = tintas_flexo[i].dupla_face
          document.getElementById("observacoes").value = tintas_flexo[i].observacoes
        document.getElementById("valor_L").value = tintas_flexo[i].Lab.L
        document.getElementById("valor_A").value = tintas_flexo[i].Lab.a
        document.getElementById("valor_B").value = tintas_flexo[i].Lab.b
        
       document.getElementById("acor").style=  "background-color: "+tintas_flexo[i].hex+"; width: 30px; border: none; display: inline-block;"
       
           
       }
   }
    
    
    
    }
    
  </script>
  <script>
        function muda_cor(){
      var o_L = parseInt(document.getElementById("valor_L").value)
       var o_A = parseInt(document.getElementById("valor_A").value)
        var o_B = parseInt(document.getElementById("valor_B").value)
        
    var resultado = chroma.lab(o_L,o_A,o_B)
     var valores_reg = resultado._rgb 
     var hex = rgbToHex(parseInt(valores_reg[0]),parseInt(valores_reg[1]),parseInt(valores_reg[2]))
     //console.log(hex)
     document.getElementById("acor").style = "background-color: "+hex+"; width: 30px; border: none; display: inline-block;"
     document.getElementById("nome_cor").innerText = hex
  }
  
    function seleciona_pantone(){
        var busca_tinta = api.custom_objects.list_with_options("PantoneColor",["nome","equal to",document.getElementById("nome_referencia").value]).results
        
        if (busca_tinta.length > 0){
            
            
             document.getElementById("acor").style = "background-color: "+busca_tinta[0].cor+"; width: 30px; border: none; display: inline-block;"
            var valor_lab = chroma(busca_tinta[0].cor).lab()
            document.getElementById("valor_L").value = valor_lab[0].toFixed(2)
            document.getElementById("valor_A").value = valor_lab[1].toFixed(2)
            document.getElementById("valor_B").value = valor_lab[2].toFixed(2)
           // document.getElementById("nome_cor").innerText = busca_tinta[0].cor
            
        }
    }
    
    
     function mostrar_referencia_fisica(){
        if (document.getElementById("referencia_fisica").checked === true){
            
           document.getElementById("div_referencia_fisica").style = "display:inline-block; vertical-align: top;"
            
        } else {
            
          
           document.getElementById("div_referencia_fisica").style = "display:none;"
        }
        
    }
  
  
    </script>
    <script>
  var tarefas = []
    function adicionar_tarefa(){
p
        if (document.getElementById("altera_tarefa").innerText == "99"){
        var info_tarefa = {}
        info_tarefa["quem_cria"] = usuario
        info_tarefa["data_criacao"] = new Date()
        info_tarefa["departamento"] = document.getElementById("tarefa_responsavel").value
        info_tarefa["tarefa"] = document.getElementById("descricao_tarefa").value
        info_tarefa["status"] = "nova"
        tarefas.push(info_tarefa)
        
          document.getElementById("error_tarefa").style = "color: green"
         document.getElementById("error_tarefa").innerText = "A tarefa foi criada com sucesso!"
         setTimeout(document.getElementById("error_tarefa").innerText = "", 3000)
        
        } else {
            var qual_tarefa = parseInt(document.getElementById("altera_tarefa").innerText)
            
        info_tarefa[qual_tarefa]["quem_cria"] = usuario
        info_tarefa[qual_tarefa]["data_criacao"] = new Date()
        info_tarefa[qual_tarefa]["departamento"] = document.getElementById("tarefa_responsavel").value
        info_tarefa[qual_tarefa]["tarefa"] = document.getElementById("descricao_tarefa").value
        info_tarefa[qual_tarefa]["status"] = "nova"
           
            document.getElementById("error_tarefa").style = "color: green"
         document.getElementById("error_tarefa").innerText = "A tarefa foi alterada com sucesso"
         setTimeout(document.getElementById("error_tarefa").innerText = "", 3000)
           
        }
        
        document.getElementById("tarefa_responsavel").value = "undefined"
        document.getElementById("descricao_tarefa").value = ""
        document.getElementById("altera_tarefa").innerText = "99"
        
        
        
        
        
       
        
        preenche_tabela_tarefas()
      
        
    }
    
    function preenche_tabela_tarefas(){
       
        
        
         clearTable(document.getElementById("tabela_tarefas"))
         var table = document.getElementById("tabela_tarefas")
        var qtasrow = table.rows.length
      
            
            for (i=0;i<tarefas.length;i++){
            var row =  table.insertRow(qtasrow);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);
            var cell6 = row.insertCell(5);
            var cell7 = row.insertCell(6);
         
           var status_tarefa = "blue"
           
           
           cell2.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell4.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell6.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell1.style = "padding: 5px; border: 2px solid lightgray;"
           cell3.style = "padding: 5px; border: 2px solid lightgray;"
           cell5.style = "padding: 5px; border: 2px solid lightgray;"
           cell7.style = "padding: 5px; border: 2px solid lightgray;"
            
           cell1.innerHTML = '<div style="font-size: 0.8em; display: inline-block;"><span style="margin-top:5px;height:20px;width:20px;background-color:'+status_tarefa+';border-radius:50%;display:inline-block"></span></div>'
           cell2.innerHTML = '<div style="font-size:1em; cursor: pointer">'+dateFormat(new Date(tarefas[i].data_criacao),"dd/mm/yyyy - hh:MM:ss")+'hs</div>'
           cell3.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tarefas[i].quem_cria.fullname+'</div>'
           cell4.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tarefas[i].departamento+'</div>'
            cell5.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tarefas[i].tarefa+'</div>'
        cell6.innerHTML = '<div><img id="'+i+'" src="Icons/Edit.png" height="30px" onclick="editarTarefa()" style="cursor: pointer;"></div>'
            
            cell7.innerHTML = '<div><img id="'+i+'" src="Icons/delete.png" height="30px" onclick="apagarTarefa()" style="cursor: pointer;"></div>'
            qtasrow = qtasrow +1
      
      
        
        
    }
    }
    </script>
  	
<script>
    function muda_tipo_trabalho(){
        if (document.getElementById("tipo_trabalho").value == "TESTE DG"){
            document.getElementById("mostrar_tipo_teste").style = "display:inline-block; vertical-align: top;"
            document.getElementById("inlineRadio1").checked = true
            document.getElementById("inlineRadio2").checked = false
            document.getElementById("inlineRadio3").checked = false
            document.getElementById("mostrar_teste_em_maquina").style = "display:inline-block; width: 100%;"
            document.getElementById("mostrar_sequencia_tinta").style = "display:inline-block; width: 100%;"
            document.getElementById("mostrar_processos").style = "display:inline-block; width: 100%;"
            document.getElementById("mostrar_codigo_arte").style = "display:none;"
            document.getElementById("mostrar_item").style = "display:none;"
            document.getElementById("mostrar_referencia").style = "display:none;"
            document.getElementById("mostrar_teste_anterior").style = "display:none;"
            document.getElementById("mostrar_checklist").style = "display:none;"
            
        } else {
            document.getElementById("mostrar_tipo_teste").style = "display:none;" 
             document.getElementById("mostrar_teste_em_maquina").style = "display:none;"
             document.getElementById("mostrar_sequencia_tinta").style = "display:none;"
             document.getElementById("mostrar_processos").style = "display:none"
              document.getElementById("mostrar_codigo_arte").style = "display:inline-block;"
            document.getElementById("mostrar_item").style = "display:inline-block;"
            document.getElementById("mostrar_referencia").style = "display:inline-block;"
            document.getElementById("mostrar_teste_anterior").style = "display:inline-block;"
            document.getElementById("mostrar_checklist").style = "display:inline-block;"
             
             
        }
    }
    
    function seleciona_teste_maquina(){
     if (document.getElementById("inlineRadio1").checked === true){
          document.getElementById("mostrar_teste_em_maquina").style = "display:inline-block; width: 100%;"
          document.getElementById("mostrar_sequencia_tinta").style = "display:inline-block; width: 100%;"
           document.getElementById("mostrar_step_cor").style = "display:none;"
           
          document.getElementById("mostrar_mockup").style = "display:none"
         
        }
        if (document.getElementById("inlineRadio2").checked === true){
          document.getElementById("mostrar_teste_em_maquina").style = "display:none;"
          document.getElementById("mostrar_step_cor").style = "display:inline-block; width: 100%;" 
          document.getElementById("mostrar_sequencia_tinta").style = "display:inline-block; width: 100%;" 
          
          document.getElementById("mostrar_mockup").style = "display:none;"
         
        }
        if (document.getElementById("inlineRadio3").checked === true){
          document.getElementById("mostrar_teste_em_maquina").style = "display:none;"
          document.getElementById("mostrar_mockup").style = "display:inline-block; width: 100%"
          document.getElementById("mostrar_step_cor").style = "display:none;"
          document.getElementById("mostrar_sequencia_tinta").style = "display:none;" 
         
        }
    }
</script>
  
<script>
    function enviar_pedido(){
        if (document.getElementById("testemaquina_enviarpedido").checked === true){
            document.getElementById("mostrar_fornecedor").style = "display: inline-block;"
            document.getElementById("mostrar_tecnologia").style = "display: inline-block;"
        } else {
           document.getElementById("mostrar_fornecedor").style = "display: none;"
            document.getElementById("mostrar_tecnologia").style = "display: none;" 
        }
    }


    function backup(){
          
    }
</script>  
<script>
    function preencheresp_comercial(){
        console.log("estou aqui")
        var qual_cliente = api.custom_objects.list_with_options("BR-VALFI_clientes",["fantasia","equal to",document.getElementById("cliente").value],[],["contatos"]).results
      var selectResp = document.getElementById('responsavel_comercial');
    for (var i = 0; i<qual_cliente[0].contatos.length; i++){
        if (qual_cliente[0].contatos[i].departamento == "Resp. Comercial"){
        var opt = document.createElement('option');
        opt.value = qual_cliente[0].contatos[i].nome;
        opt.innerHTML = qual_cliente[0].contatos[i].nome;
        selectResp.appendChild(opt);
        }
    }
    }
</script>
<script>
    var checklist_entrada = []
    function adiciona_check(){
     var linha = event.srcElement.id
     if (document.getElementById(linha).checked == true){
         checklist_entrada.push(linha)
     } else {
         for (i=0;i<checklist_entrada.length;i++){
             if (checklist_entrada[i] === linha){
                 var tira = checklist_entrada.splice(i,1)
             }
         }
     }
        
        
    }
</script>
<script>
    function select_tecnologia(){
        
var selectTecnologia = document.getElementById('testemaquina_tecnologia');
        for (i=0;i<tiposTipo4.length;i++){
            if (tiposTipo4[i].nome == document.getElementById("testemaquina_fornecedor").value){
             var tiposTipo5 = tiposTipo4[i].produto.cliche
            for (var i = 0; i<tiposTipo5.length; i++){
        var opt = document.createElement('option');
        opt.value = tiposTipo5[i];
        opt.innerHTML = tiposTipo5[i];
        selectTecnologia.appendChild(opt);
    }   
            }
        }
    }
    
    
      
      function mostraTestforms(){
         
        var div_cliente = document.getElementById("info_testform")
        var icone = document.getElementById("testformArrow")
        icone.classList.toggle("fa-minus-square")
        if (div_cliente.style.display === "none") {
            div_cliente.style.display = "inline-block";
            div_cliente.style.width = "100%";
            } else {
                div_cliente.style.display = "none";
            }
       
      }
</script>
<script>
    //<------- AQUI COMECAM AS FUNCOES DAS TABELAS --------->
    
       function preenche_aguardando(sorting){
  	        
  	     clearTable(document.getElementById("tabela_aguardando"))
  	     
  	     var listar_por = []
  	     if (sorting === undefined){
  	         listar_por.push("criado_em")
  	         listar_por.push("ascending")
  	     } else {
  	         listar_por.push(sorting)
  	         listar_por.push("ascending")
  	     }
  	     
         
         var busca_tickets = api.custom_objects.list_with_options("BR-VALFI_Tickets",["priorizado","equal to",false],listar_por).results
          
         var table = document.getElementById("tabela_aguardando")
        var qtasrow = table.rows.length
      
            
            for (i=0;i<busca_tickets.length;i++){
            var row =  table.insertRow(qtasrow);
            
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);
            var cell6 = row.insertCell(5);
            var cell7 = row.insertCell(6);
           
          
           var a_data = dateFormat(busca_tickets[i].criado_em,"dd/mm/yyyy - HH:MM")
            
            var cor_arte = "red"
            if (busca_tickets[i].complexidade === "baixo"){
                cor_arte = "#00FF00"
            }
            if (busca_tickets[i].complexidade === "medio"){
                cor_arte = "orange"
            }
            
           
            
            cell1.innerHTML = '<div style="font-size:1em;"><span style="margin-top:5px;height:10px;width:10px;background-color:'+cor_arte+';border-radius:50%;display:inline-block"></span></div>'
            cell2.innerHTML = '<div style="font-size:1em;">'+busca_tickets[i].cliente+'</div>'
            cell3.innerHTML = '<div style="font-size:1em;"><a href="Edita_Ticket.html?ordem='+busca_tickets[i]._id+'" target="_Blank">'+busca_tickets[i].descricao+'</a></div>'
            cell4.innerHTML = '<div style="font-size:1em;">'+busca_tickets[i].tipo_trabalho+'</div>'
            cell5.innerHTML = '<div style="font-size:1em;">'+busca_tickets[i].responsavel_comercial+'</div>'
            cell6.innerHTML = '<div style="font-size:1em;">'+a_data+'hs</div>'
            cell7.innerHTML = '<div style="font-size:1em; cursor: pointer"><img src="./Icons/prioriza_off.png" width="20px" id="'+busca_tickets[i]._id+'" onclick="priorizar()"></div>'
            
            qtasrow = qtasrow +1
      
      
        
        
    }
  	   
  	  preenche_prioridades()
  	    }
  	    
  	    var array_prioriza = []
  	 	 function priorizar(){
  	     var linha = event.srcElement.id
  	     console.log(linha)
  	     if (array_prioriza.indexOf(linha) === -1){
  	     console.log("vou alterar")
  	     document.getElementById(linha).src = "./Icons/prioriza_on.png"
  	     array_prioriza.push(linha)
  	     } else {
  	        for (i=0;i<array_prioriza.length;i++){
  	            if (array_prioriza[i] === linha){
  	                var tira = array_prioriza.splice(i,1)
  	            }
  	        }
  	       document.getElementById(linha).src = "./Icons/prioriza_off.png"  
  	     }
  	     if (array_prioriza.length > 0){
  	         document.getElementById("botao_priorizar").style = "display: inline-block;cursor: pointer; margin-left: 9%;" 
  	     } else {
  	        document.getElementById("botao_priorizar").style  = "display: none;" 
  	     }
  	     
  	 	 }
  	 	 
  	function fazer_priorizacao(){
  	    
  	    for (i=0;i<array_prioriza.length;i++){
  	     var busca_prioridade = api.custom_objects.list_with_options("BR-VALFI_Tickets",["_id","equal to",array_prioriza[i]],[],["complexidade"]).results[0]
  	     var existe_prioridade = api.custom_objects.list_with_options("BR-VALFI_Tickets",["priorizado","equal to",true,"and","arte_finalizado","equal to",false],["hora_estimada.final","ascending"]).results 
  	     if (existe_prioridade.length < 2){
  	      var inicio = new Date()
  	      var info_inicio = {}
  	      info_inicio["liberacao"] = new Date(inicio)
  	      
  	         if (inicio.getHours() > 15){
  	             console.log("sou maior que 15")
  	             console.log(inicio.getHours())
  	           var dias_somar = 1
  	             if (inicio.getDay() == 5){
  	                 dias_somar = 3
  	             }
  	            inicio.setDate(inicio.getDate()+dias_somar)
  	            console.log("dia de inicio")
  	            console.log(new Date(inicio))
  	            console.log("hora de inicio")
  	            console.log(new Date(inicio.setHours(8,0,0,0)))
  	            info_inicio["inicio"] = new Date(inicio.setHours(8,0,0,0))  
  	         }
  	          else {
  	             if (inicio.getHours() < 10){
  	              info_inicio["inicio"] = new Date(inicio.setHours(13,0,0,0))    
  	             } else if (inicio.getHours() < 12){
  	              info_inicio["inicio"] = new Date(inicio.setHours(15,0,0,0))   
  	             }
  	             else {
  	               inicio.setDate(inicio.getDate()+dias_somar)
  	               info_inicio["inicio"] = new Date(inicio.setHours(8,0,0,0)) 
  	             }
  	         } 
  	      
  	      var hora_de_inicio = new Date(info_inicio.inicio)
  	      if (busca_prioridade.complexidade == "baixo"){
  	          info_inicio["final"] = new Date(hora_de_inicio.setHours(inicio.getHours()+2))
  	      }
  	      if (busca_prioridade.complexidade == "medio"){
  	          console.log(hora_de_inicio.getHours())
  	          if (hora_de_inicio.getHours() < 15){
  	              var soma = 4
  	              if (hora_de_inicio.getHours() < 13){
  	                  soma = 5
  	              }
  	          info_inicio["final"] = new Date(hora_de_inicio.setHours(hora_de_inicio.getHours()+soma))
  	          } else {
  	             var dias_somar = 1
  	             if (inicio.getDay() == 5){
  	                 dias_somar = 3
  	             }
  	             info_inicio["final"] = new Date(inicio.setDate(inicio.getDate()+dias_somar).setHours(10,0,0,0)) 
  	          }
  	      }
  	      
  	      
  	      if (busca_prioridade.complexidade == "alto"){
  	          if (inicio.getHours() === 8){
  	           info_inicio["final"] = new Date(inicio.setHours(inicio.getHours()+9))   
  	          } else if (inicio.getHours() == 10){
  	            var dias_somar = 1
  	             if (inicio.getDay() == 5){
  	                 dias_somar = 3
  	             }
  	            info_inicio["final"] = new Date(inicio.setDate(inicio.getDate()+somar).setHours(10,0,0,0))  
  	         } else if (inicio.getHours() == 13){
  	            var dias_somar = 1
  	             if (inicio.getDay() == 5){
  	                 dias_somar = 3
  	             }
  	            info_inicio["final"] = new Date(inicio.setDate(inicio.getDate()+somar).setHours(12,0,0,0)) 
  	         } else {
  	           var dias_somar = 1
  	             if (inicio.getDay() == 5){
  	                 dias_somar = 3
  	             }
  	            info_inicio["final"] = new Date(inicio.setDate(inicio.getDate()+somar).setHours(15,0,0,0))
  	         
  	         }
  	          
  	      }
  	      
  	      
  	      
  	      api.custom_objects.set_keys("BR-VALFI_Tickets",array_prioriza[i],{"priorizado": true,"hora_estimada":info_inicio})
  	      var buscaID = api.custom_objects.list_with_options("BR-VALFI_Tickets",["_id","equal to",array_prioriza[i]]).results[0]
  	      lista_prioridades.push(buscaID)
  	      preenche_aguardando("criado_em")
  	     } 
  	     
  	     else {
  	        var ultima_hora = new Date(existe_prioridade[existe_prioridade.length-1].hora_estimada.final)
  	        var penultima_hora = new Date(existe_prioridade[existe_prioridade.length-2].hora_estimada.final)
  	        if (ultima_hora < penultima_hora){
  	            var hora_a_buscar = ultima_hora
  	        } else {
  	            var hora_a_buscar = penultima_hora
  	        }
  	        console.log("HORA A BUSCAR")
  	        console.log(hora_a_buscar)
  	        console.log("------xxxxxxx------")
  	        
  	          var info_inicio = {}
  	          info_inicio["liberacao"] = new Date()
  	          if (hora_a_buscar.getHours() < 17){
  	              var hora_corrigida = new Date(hora_a_buscar)
  	              info_inicio["inicio"] = new Date(hora_a_buscar)
  	              console.log("HORA DE INICIO")
  	               console.log(hora_a_buscar)
  	                console.log("------xxxxxxx------")
  	              
  	          } else {
  	               var dias_somar = 1
  	             if (new Date(hora_a_buscar).getDay() == 5){
  	                 dias_somar = 3
  	             }
  	             var hora_corrigida = new Date(hora_a_buscar)
  	             hora_corrigida.setDate(hora_corrigida.getDate()+dias_somar)
  	             hora_corrigida.setHours(8,0,0,0)
  	             info_inicio["inicio"] = new Date(hora_corrigida)
  	             
  	          }
  	    
  	     var hora_de_inicio2 = new Date(hora_corrigida)
  	    console.log("HORA A CORRIGIDA")
  	        console.log(hora_corrigida)
  	        console.log("------xxxxxxx------")
  	     
  	      if (busca_prioridade.complexidade == "baixo"){
  	          var add_horas = 2
  	          if (hora_corrigida.getHours() === 10){
  	              add_horas = 3
  	          }
  	          info_inicio["final"] = new Date(hora_corrigida.setHours(hora_corrigida.getHours()+add_horas))
  	      }
  	      if (busca_prioridade.complexidade == "medio"){
  	          if (hora_corrigida.getHours() < 15){
  	              var soma = 4
  	              if (hora_corrigida.getHours() < 13){
  	                  soma = 5
  	              }
  	          info_inicio["final"] = new Date(hora_corrigida.setHours(hora_corrigida.getHours()+soma))
  	          } else if (hora_corrigida.getHours() === 17) {
  	             var dias_somar = 1
  	             if (hora_corrigida.getDay() == 5){
  	                 dias_somar = 3
  	             }
  	             var hora_corrigida = new Date(hora_corrigida)
  	             hora_corrigida.setDate(hora_corrigida.getDate()+dias_somar)
  	             hora_corrigida.setHours(13,0,0,0)
  	             info_inicio["final"] = new Date(hora_corrigida) 
  	          } else if (hora_inicio2.getHours() === 15){
  	            var dias_somar = 1
  	             if (hora_corrigida.getDay() == 5){
  	                 dias_somar = 3
  	             }
  	             var hora_corrigida = new Date(hora_corrigida)
  	             hora_corrigida.setDate(hora_corrigida.getDate()+dias_somar)
  	             hora_corrigida.setHours(10,0,0,0)
  	             info_inicio["final"] = new Date(hora_corrigida)  
  	              
  	          }
  	      }
  	      
  	      
  	      if (busca_prioridade.complexidade == "alto"){
  	          if (hora_corrigida.getHours() === 8){
  	           info_inicio["final"] = new Date(hora_corrigida.setHours(inicio.getHours()+9))   
  	          } else if (hora_corrigida.getHours() == 10){
  	            var dias_somar = 1
  	             if (hora_corrigida.getDay() == 5){
  	                 dias_somar = 3
  	             }
  	             var a_nova_hora = hora_corrigida.setDate(hora_corrigida.getDate()+dias_somar)
  	             a_nova_hora = new Date(a_nova_hora).setHours(10,0,0,0)
  	            info_inicio["final"] = new Date(a_nova_hora)  
  	         } else if (hora_corrigida.getHours() == 13){
  	            var dias_somar = 1
  	             if (hora_corrigida.getDay() == 5){
  	                 dias_somar = 3
  	             }
  	              var a_nova_hora = hora_corrigida.setDate(hora_corrigida.getDate()+dias_somar)
  	             a_nova_hora = new Date(a_nova_hora).setHours(12,0,0,0)
  	            info_inicio["final"] = new Date(a_nova_hora) 
  	         } else {
  	           var dias_somar = 1
  	             if (hora_corrigida.getDay() == 5){
  	                 dias_somar = 3
  	             }
  	              var a_nova_hora = hora_corrigida.setDate(hora_corrigida.getDate()+dias_somar)
  	             a_nova_hora = new Date(a_nova_hora).setHours(15,0,0,0)
  	            info_inicio["final"] = new Date(a_nova_hora)
  	         
  	         }
  	          
  	      }
  	          
  	          
  	        console.log(JSON.stringify(info_inicio))  
  	          
  	         api.custom_objects.set_keys("BR-VALFI_Tickets",array_prioriza[i],{"priorizado": true,"hora_estimada":info_inicio})
  	      
  	            
  	         
  	        
  	       var buscaID = api.custom_objects.list_with_options("BR-VALFI_Tickets",["_id","equal to",array_prioriza[i]]).results[0]
  	        lista_prioridades.push(buscaID)
  	        preenche_aguardando("criado_em")
  	       
  	     } 
  	    }
  	}
  	         
  	     
  	 

</script>
<script>
    var lista_prioridades = []
    var busca_global = api.custom_objects.list_with_options("BR-TECNO_Tickets",["proxima_etapa.dashboard","equal to","pcp"],["entrega_em","ascending"]).results
   document.getElementById("strong_global").innerText = busca_global.length
    
  for (i=0;i<busca_global.length;i++){
      lista_prioridades.push(busca_global[i])
    }
    
    
     function preenche_tarefas(){
  	        
  	     clearTable(document.getElementById("tabela_prioridades"))
  	     
  	     
         var table = document.getElementById("tabela_prioridades")
        var qtasrow = table.rows.length
      
            
            for (i=0;i<lista_prioridades.length;i++){
            var row =  table.insertRow(qtasrow);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);
            var cell6 = row.insertCell(5);
            var cell7 = row.insertCell(6);
            var cell8 = row.insertCell(7);
            var cell9 = row.insertCell(8);
            var cell10 = row.insertCell(9);
            var cell11 = row.insertCell(10);
            var cell12 = row.insertCell(11);
            var cell13 = row.insertCell(12);
            
           
          var hoje = new Date()
          var a_data = dateFormat(lista_prioridades[i].entrada_em,"dd/mm/yyyy")
           var a_data2 = dateFormat(lista_prioridades[i].entrega_em,"dd/mm/yyyy")
            var cor_arte = "green"
            
            
           
            
            
            var icone_imp = "./Icons/maq_flexo.png"
            
            if (lista_prioridades[i].processo.valor == "Rotogravura"){
                icone_imp = "./Icons/maq_roto.png"
            }
            
            var cor_desenvolvimento = "#CCC"
            var cor_prepress = "#CCC"
            var cor_engenharia = "#CCC"
            var cor_pcp = "#CCC"
            
            
            var next_etapas = lista_prioridades[i].proxima_etapa
            
            for (j=0;j<next_etapas.length;j++){
                if (next_etapas[j].forms == "DES1"){
                    cor_desenvolvimento = "blue"
                    if (next_etapas[j].pending != undefined){
                      if (next_etapas[j].pending === true){
                      cor_desenvolvimento = "orange"  
                      }
                    }
                    
                }
                if (next_etapas[j].forms == "ART1"){
                    cor_prepress = "blue"
                    if (next_etapas[j].pending != undefined){
                      if (next_etapas[j].pending === true){
                      cor_prepress = "orange"  
                      }
                    }
                }
                if (next_etapas[j].forms == "ENG"){
                    cor_engenharia = "blue"
                    if (next_etapas[j].pending != undefined){
                      if (next_etapas[j].pending === true){
                      cor_engenharia = "orange"  
                      }
                    
                }
                }
                
                if (next_etapas[j].forms == "PCP"){
                    if (next_etapas[j].pending != undefined){
                      if (next_etapas[j].pending === true){
                      cor_pcp = "orange"  
                      }
                    
                }
                } 
            }
            
            var tempos_exec = lista_prioridades[i].tempos_processo
            
            for (k=0;k<tempos_exec.length;k++){
                if (tempos_exec[k].formulario == "ART1"){
                    var temposdeexec = tempos_exec[k].tempos
                    if (temposdeexec[temposdeexec.length-1].final != undefined){
                        cor_prepress = "green"
                    }
                }
                 if (tempos_exec[k].formulario == "DES1"){
                    var temposdeexec = tempos_exec[k].tempos
                    if (temposdeexec[temposdeexec.length-1].final != undefined){
                        cor_desenvolvimento = "green"
                    }
                }
                 if (tempos_exec[k].formulario == "ENG"){
                    var temposdeexec = tempos_exec[k].tempos
                    if (temposdeexec[temposdeexec.length-1].final != undefined){
                        cor_engenharia= "green"
                    }
                }
                
            }
           
            if (lista_prioridades[i].amostra.valor == "Não"){
               var tipotrampo = lista_prioridades[i].tipo_trabalho.valor
           } else {
               var tipotrampo = "Amostra - "+lista_prioridades[i].amostra_tipo_arte.tipo_arte.valor
           }
            
            cell1.innerHTML = '<div style="font-size:1em;"><span style="margin-top:5px;height:15px;width:15px;background-color:'+cor_arte+';border-radius:50%;display:inline-block"></span></div>'
            cell2.innerHTML = '<div style="font-size:1em; cursor: pointer;"><a href="art1.html?ordem='+lista_prioridades[i]._id+'">'+lista_prioridades[i].numero_ticket+'</a></div>'
            cell3.innerHTML = '<div style="font-size:1em;">'+lista_prioridades[i].cliente+'</div>'
            cell4.innerHTML = '<div style="font-size:1em;"></div>'
            cell5.innerHTML = '<div style="font-size:1em;">'+lista_prioridades[i].descricao+'</div>'
            cell6.innerHTML = '<div style="font-size:1em;">'+tipotrampo+'</div>'
            cell7.innerHTML = '<div  style="font-size:1em;"><span id="'+qtasrow+'" style="cursor: pointer; margin-top:5px;height:20px;width:20px;background-color:'+cor_engenharia+';border-radius:50%;display:inline-block; border: 2px solid black;" onclick="mostraDisclosure()"></span></div>'
            cell8.innerHTML = '<div style="font-size:1em;"><span id="'+qtasrow+'" style="margin-top:5px;height:20px;width:20px;background-color:'+cor_desenvolvimento+';border-radius:50%;display:inline-block; border: 2px solid black;" onclick="mostraDisclosure()"></span></div>'
            cell9.innerHTML = '<div style="font-size:1em;"><span id="'+qtasrow+'" style="margin-top:5px;height:20px;width:20px;background-color:'+cor_prepress+';border-radius:50%;display:inline-block; border: 2px solid black;" onclick="mostraDisclosure()"></span></div>'
            cell10.innerHTML = '<div style="font-size:1em;"><span id="'+qtasrow+'" style="margin-top:5px;height:20px;width:20px;background-color:'+cor_pcp+';border-radius:50%;display:inline-block;border: 2px solid black;" onclick="mostraDisclosure()"></span></div>'
           
            cell11.innerHTML = '<div style="font-size:1em;"><img src="'+icone_imp+'" width="30px"></div>'
            cell12.innerHTML = '<div style="font-size:1em;">'+a_data+'</div>'
            cell13.innerHTML = '<div style="font-size:1em;">'+a_data2+'</div>'
           
            
           //  var table = document.getElementById("tabela_prioridades")
           //  var qtasrow = table.rows.length
        //    var link_proofscope = ""
         //   var preview = "./Icons/aguardando_arquivos.png"
            
           // if (lista_prioridades[i].pacote_grafico != undefined){
        //        preview = lista_prioridades[i].pacote_grafico.preview
         //       link_proofscope = lista_prioridades[i].pacote_grafico.proofscope
          //  }
            
            
          
            //var row2 =  table.insertRow(qtasrow);
        //    var cell1_2 = row2.insertCell(0);
         //   cell1_2.colSpan = 13
          //  cell1_2.style = "background-color: lightgray"
        //    cell1_2.style = "display: none;"
          //  var string_div = '<div style="width: 100%; display:inline-block; vertical-align: top; padding-top: 5px;">'
            
            
    //        string_div = string_div+'<div style="width: 15%; display: inline-block; vertical-align: top; border-right: 10px"><h6>Comercial</h6><p style="text-align: left;">Amostra: <strong>'+lista_prioridades[i].amostra.valor+'</strong>'
    //        string_div = string_div+'<p style="text-align: left;">Novos Projetos: <strong>'+lista_prioridades[i].novos_projetos.valor+'</strong>'
    //        string_div = string_div+'<p style="text-align: left;">Referência: <strong>'+lista_prioridades[i].que_referencia+'</strong>'
    //        string_div = string_div+'</div>'
    //        
    //        
    //        if (lista_prioridades[i].eng != undefined){
    //        string_div = string_div+'<div style="width: 20%; display: inline-block; vertical-align: top;  border-right: 1px solid black; border-left: 1px solid black; margin-left: 10px; padding-left: 10px"><h6>Engenharia</h6><p style="text-align: left;">Num. Cores: <strong>'+lista_prioridades[i].eng.numerocores_impressao+'</strong>'
    //        string_div = string_div+'<p style="text-align: left;">Num. Cores: <strong>'+lista_prioridades[i].eng.numerocores_impressao+'</strong>'
    //        string_div = string_div+'<p style="text-align: left;">Laminação: <strong>'+lista_prioridades[i].eng.laminacao_impressao+'</strong>'
    //        string_div = string_div+'<p style="text-align: left;">Encanoamento: <strong>'+lista_prioridades[i].eng.encanoamento_impressao+'</strong>'
    //        string_div = string_div+'<p style="text-align: left;">Passo Contínuo: <strong>'+lista_prioridades[i].eng.passocontinuo_impressao+'</strong>'
    //        string_div = string_div+'<p style="text-align: left;">Dureza: <strong>'+lista_prioridades[i].eng.dureza_impressao+'</strong>'
    //        string_div = string_div+'<p style="text-align: left;">Num. Imagens: <strong>'+lista_prioridades[i].eng.numeroimagens_impressao+'</strong>'
     //       string_div = string_div+'</div>'
    //        }
    //          if (lista_prioridades[i].des1 != undefined){
          
    //        string_div = string_div+'<div style="width: 40%; display: inline-block; vertical-align: top;  border-right: 1px solid black; margin-left: 10px"><h6>Desenvolvimento</h6><div style="display:inline-block; width: 47%; vertical-align: top;"><p style="text-align: left;">Estrutura: <strong>'+lista_prioridades[i].des1.estrutura_impressao+'</strong>'
     //       string_div = string_div+'<p style="text-align: left;">Passo: <strong>'+lista_prioridades[i].des1.passo_impressao+'</strong>'
     //       string_div = string_div+'<p style="text-align: left;">Largura: <strong>'+lista_prioridades[i].des1.largura_impressao+'</strong>'
     //       string_div = string_div+'<p style="text-align: left;">Encanoamento: <strong>'+lista_prioridades[i].des1.encanoamento_impressao+'</strong>'
     //       string_div = string_div+'<p style="text-align: left;">Enrolamento: <strong>'+lista_prioridades[i].des1.enrolamento_impressao+'</strong>'
     //       string_div = string_div+'<p style="text-align: left;">Adesivo: <strong>'+lista_prioridades[i].des1.adesivo_impressao+'</strong></div>'
     //       string_div = string_div+'<div style="display: inline-block; width: 47%; margin-left: 2%; vertical-align: top;"><p style="text-align: left;">Primer: <strong>'+lista_prioridades[i].des1.primer_impressao+'</strong>'
     //       string_div = string_div+'<p style="text-align: left;">Verniz: <strong>'+lista_prioridades[i].des1.verniz_impressao+'</strong>'
     //       string_div = string_div+'<p style="text-align: left;">Lado Imp.: <strong>'+lista_prioridades[i].des1.lado_impressao+'</strong>'
     //       string_div = string_div+'<p style="text-align: left;">Puxada: <strong>'+lista_prioridades[i].des1.puxada_impressao+'</strong>'
     //       string_div = string_div+'<p style="text-align: left;">Retenção de Solventes: <strong>'+lista_prioridades[i].des1.retencaosolventes_impressao+'</strong></div>'
            
    //        string_div = string_div+'</div>'
    //          }
     //       string_div = string_div+'<div style="width: 22%; display: inline-block; margin: auto; vertical-align: top;"><a style="cursor:pointer;" href='+link_proofscope+' target="_Blank"><img src="'+preview+'" width="80%" style="margin: auto;"></a></div>'
            
           
           // string_div = string_div+'<div style="width: 65%; display: inline-block"><div style="width: 15%; margin: auto"><img src="./Icons/etapainiciada.png" width="30px"><br>Entrada</div></div></div>'
      //      cell1_2.innerHTML = string_div
           
        
      
            
            
            
            
        //    qtasrow = qtasrow +1
      //
      
        
        
    }
    
    document.getElementById("strong_global").innerText = lista_prioridades.length
  	    }
      
 // preenche_aguardando()  
 
   function mostraDisclosure(){
  	 console.log(event.srcElement.id)
        var linha = parseInt(event.srcElement.id)+1
        var table = document.getElementById("tabela_prioridades")
  
        if (table.rows[linha].children[0].style.display == "none"){
            table.rows[linha].children[0].style = "background-color: #EEE;"
            table.rows[linha].children[0].colSpan = 13
        } else {
            table.rows[linha].children[0].style = "display: none;" 
        }
      }
    	    
</script>


<script>
// começam funções copiadas da outra pagina 

 function seleciona_referencia(){
  	        if (document.getElementById("inlineRadio6").checked === true){
  	            document.getElementById("mostrar_item_referencia").style = "display: inline-block;"
  	        } else {
  	           document.getElementById("mostrar_item_referencia").style = "display: none;" 
  	        }
  	        
  	    }
  
    	    function seleciona_tipo_trabalho(){
  	        if (document.getElementById("inlineRadio26").checked === true){
  	            document.getElementById("mostrar_amostra").style = "display: none;"
  	            document.getElementById("mostrar_selecionar_amostra").style = "display: none;"
  	            document.getElementById("mostrar_novos_projetos").style = "display: none;"
  	            document.getElementById("mostrar_cobrar_cilindros").style = "display: none;"
  	            document.getElementById("mostrar_prazo_entrega").style = "display: inline-block;"
  	        } else {
  	           document.getElementById("mostrar_amostra").style = "display: none;"
  	            document.getElementById("mostrar_selecionar_amostra").style = "display: inline-block;"
  	            document.getElementById("mostrar_novos_projetos").style = "display: inline-block; vertical-align: top;"
  	            document.getElementById("mostrar_cobrar_cilindros").style = "display: inline-block; vertical-align: top;"
  	            document.getElementById("mostrar_prazo_entrega").style = "display: inline-block;"
  	            document.getElementById("inlineRadio16").checked = true
  	            document.getElementById("inlineRadio5").checked = true
  	             document.getElementById("inlineRadio9").checked = true
  	        }
  	        
  	    }
  	    
  	     function seleciona_amostra(){
  	        if (document.getElementById("inlineRadio15").checked === true){
  	            document.getElementById("mostrar_amostra").style = "display: inline-block;"
  	        } else {
  	           document.getElementById("mostrar_amostra").style = "display: none;" 
  	        }
  	        
  	    }
  	 
  	    function seleciona_produto_semelhante(){
  	        if (document.getElementById("inlineRadio17").checked === true){
  	            document.getElementById("mostrar_produto_semelhante").style = "display: inline-block;"
  	        } else {
  	           document.getElementById("mostrar_produto_semelhante").style = "display: none;" 
  	        }
  	        
  	    }
  	    
  	     function seleciona_unidade_medida(){
  	        if (document.getElementById("inlineRadio29").checked === true){
  	            document.getElementById("mostrar_outra_unidade").style = "display: inline-block;"
  	        } else {
  	           document.getElementById("mostrar_outra_unidade").style = "display: none;" 
  	        }
  	        
  	    }
  	    
  	    	function verifica_campos(){
  	    
  	var conta = api.custom_objects.count("BR-TECNO_Tickets").count
  	
  	
  	
    var valido = true
    
    var data = {}
    
    if (conta === 0){
        var numero_ticket =  padWithZero(conta,5)
        
    } else {
        var busca_ultimo = api.custom_objects.list_with_options("BR-TECNO_Tickets",[],[],["numero_ticket"]).results[conta-1]
        var o_ticket = parseInt(busca_ultimo.numero_ticket)+1
        var numero_ticket =  padWithZero(o_ticket,5)
        
    }
    data["numero_ticket"] = numero_ticket
    
    var amostra = {}
    var campos_amostra = {}
    campos_amostra["inlineRadio15"] = document.getElementById("inlineRadio15").checked
    campos_amostra["inlineRadio16"] = document.getElementById("inlineRadio16").checked
    amostra["campos"] = campos_amostra
    if (campos_amostra["inlineRadio15"] === true){
        amostra["valor"] = document.getElementById("inlineRadio15").value
    } else {
       amostra["valor"] = document.getElementById("inlineRadio16").value
    }
    data["amostra"] = amostra
    
    if (document.getElementById("cliente").value != ""){
        data["cliente"] = document.getElementById("cliente").value 
    } else {
        valido = false
    }
    var tipo_trabalho = {}
    var campos_tipo_trabalho = {}
    campos_tipo_trabalho["inlineRadio23"] =  document.getElementById("inlineRadio23").checked
    campos_tipo_trabalho["inlineRadio24"] =  document.getElementById("inlineRadio24").checked
    campos_tipo_trabalho["inlineRadio25"] =  document.getElementById("inlineRadio25").checked
    campos_tipo_trabalho["inlineRadio26"] =  document.getElementById("inlineRadio26").checked
    tipo_trabalho["campos"] = campos_tipo_trabalho
    if (campos_tipo_trabalho["inlineRadio23"] === true){
    tipo_trabalho["valor"] = document.getElementById("inlineRadio23").value
    }
    if (campos_tipo_trabalho["inlineRadio24"] === true){
    tipo_trabalho["valor"] = document.getElementById("inlineRadio24").value
    }
    if (campos_tipo_trabalho["inlineRadio25"] === true){
    tipo_trabalho["valor"] = document.getElementById("inlineRadio25").value
    }
    if (campos_tipo_trabalho["inlineRadio26"] === true){
    tipo_trabalho["valor"] = document.getElementById("inlineRadio26").value
    }
    data["tipo_trabalho"] = tipo_trabalho
  	
  	var novos_projetos = {}
  	var campos_novos_projetos = {}
  	campos_novos_projetos["inlineRadio4"] =  document.getElementById("inlineRadio4").checked
    campos_novos_projetos["inlineRadio5"] =  document.getElementById("inlineRadio5").checked
  	novos_projetos["campos"] = campos_novos_projetos
  	if (campos_novos_projetos["inlineRadio4"] === true){
    novos_projetos["valor"] = document.getElementById("inlineRadio4").value
    }
    if (campos_novos_projetos["inlineRadio5"] === true){
    novos_projetos["valor"] = document.getElementById("inlineRadio5").value
    }
    data["novos_projetos"] = novos_projetos
  	
  	var usar_referencia = {}
  	var campos_usar_referencia = {}
  	campos_usar_referencia["inlineRadio6"] =  document.getElementById("inlineRadio6").checked
  	campos_usar_referencia["inlineRadio7"] =  document.getElementById("inlineRadio7").checked
  	usar_referencia["campos"] = campos_usar_referencia
  	if (campos_usar_referencia["inlineRadio6"] === true){
    usar_referencia["valor"] = document.getElementById("inlineRadio6").value
    }
    if (campos_usar_referencia["inlineRadio7"] === true){
    usar_referencia["valor"] = document.getElementById("inlineRadio7").value
    }
    data["usar_referencia"] = usar_referencia
    
    data["descricao"] = document.getElementById("descricao").value
    data["que_referencia"] = document.getElementById("item_referencia").value
    data["observacoes"] = document.getElementById("observacoes").value.trim()
    data["entrada_em"] = new Date()
    data["entrega_em"] = new Date(document.getElementById("data_entrega").value)
    
    var cobrar_cilindros = {}
    var campos_cobrar_cilindros = {}
    campos_cobrar_cilindros["inlineRadio8"] =  document.getElementById("inlineRadio8").checked
    campos_cobrar_cilindros["inlineRadio9"] =  document.getElementById("inlineRadio9").checked
    cobrar_cilindros["campos"] = campos_cobrar_cilindros
    if (campos_cobrar_cilindros["inlineRadio8"] === true){
    cobrar_cilindros["valor"] = document.getElementById("inlineRadio8").value
    }
    if (campos_cobrar_cilindros["inlineRadio9"] === true){
    cobrar_cilindros["valor"] = document.getElementById("inlineRadio9").value
    }
    data["cobrar_cilindros"] = cobrar_cilindros
    
    
    var processo = {}
    var campos_processo = {}
    campos_processo["inlineRadio10"] =  document.getElementById("inlineRadio10").checked
    campos_processo["inlineRadio11"] =  document.getElementById("inlineRadio11").checked
    campos_processo["inlineRadio12"] =  document.getElementById("inlineRadio12").checked
    
    processo["campos"] = campos_processo
    if (campos_processo["inlineRadio10"] === true){
    processo["valor"] = document.getElementById("inlineRadio10").value
    }
    if (campos_processo["inlineRadio11"] === true){
    processo["valor"] = document.getElementById("inlineRadio11").value
    }
    if (campos_processo["inlineRadio12"] === true){
    processo["valor"] = document.getElementById("inlineRadio12").value
    }
    
    data["processo"] = processo
    
    data["versao_arte"] = document.getElementById("versao_arte").value
    
     var logo_valgroup= {}
    var campos_logo_valgroup = {}
    campos_logo_valgroup["inlineRadio13"] =  document.getElementById("inlineRadio13").checked
    campos_logo_valgroup["inlineRadio14"] =  document.getElementById("inlineRadio14").checked
    logo_valgroup["campos"] = campos_logo_valgroup
    if (campos_logo_valgroup["inlineRadio13"] === true){
    logo_valgroup["valor"] = document.getElementById("inlineRadio13").value
    }
    if (campos_logo_valgroup["inlineRadio14"] === true){
    logo_valgroup["valor"] = document.getElementById("inlineRadio14").value
    }
    data["logo_valgroup"] = logo_valgroup
    
    var info_amostra = {}
    var contato_amostra = {}
    contato_amostra["contato"] = document.getElementById("contato_cliente").value
    contato_amostra["email"] = document.getElementById("emailcontato_cliente").value
    contato_amostra["telefone"] = document.getElementById("telcontato_cliente").value
    contato_amostra["setor"] = document.getElementById("setorcontato_cliente").value
    info_amostra["contato"] = contato_amostra
    data["amostra_contato"]
    
     var projeto_semelhante= {}
    var campos_projeto_semelhante = {}
    campos_projeto_semelhante["inlineRadio17"] =  document.getElementById("inlineRadio17").checked
    campos_projeto_semelhante["inlineRadio18"] =  document.getElementById("inlineRadio18").checked
    projeto_semelhante["campos"] = campos_projeto_semelhante
    if (campos_projeto_semelhante["inlineRadio17"] === true){
    projeto_semelhante["valor"] = document.getElementById("inlineRadio17").value
    }
    if (campos_projeto_semelhante["inlineRadio18"] === true){
    projeto_semelhante["valor"] = document.getElementById("inlineRadio18").value
    }
    projeto_semelhante["nome_projeto_semelhante"] = document.getElementById("produto_semelhante").value
    info_amostra["projeto_semelhante"] = projeto_semelhante
    
    var info_estrutura = {}
    info_estrutura["atual"] = document.getElementById("estrutura_atual").value
    info_estrutura["solicitada"] = document.getElementById("estrutura_solicitada").value
    data["amostra_estrutura"] = info_estrutura
    
    
     var unidade = {}
    var campos_unidade = {}
    campos_unidade["inlineRadio27"] =  document.getElementById("inlineRadio27").checked
    campos_unidade["inlineRadio28"] =  document.getElementById("inlineRadio28").checked
    campos_unidade["inlineRadio29"] =  document.getElementById("inlineRadio29").checked
    
    unidade["campos"] = campos_unidade
    if (campos_unidade["inlineRadio27"] === true){
    unidade["valor"] = document.getElementById("inlineRadio27").value
    }
    if (campos_unidade["inlineRadio28"] === true){
    unidade["valor"] = document.getElementById("inlineRadio29").value
    }
    if (campos_unidade["inlineRadio29"] === true){
    unidade["valor"] = document.getElementById("inlineRadio29").value
    }
    unidade["outra_unidade"] = document.getElementById("outra_unidade").value
    data["amostra_unidade"] = unidade
    
    var quantidade = {}
    quantidade["solicitada"] = document.getElementById("quantidade_solicitada").value
    quantidade["volume_previsto"] = document.getElementById("volume_previsto").value
    data["amostra_quantidade"] = quantidade
    
    
     var tipo_produto= {}
    var campos_tipo_produto = {}
    campos_tipo_produto["inlineRadio19"] =  document.getElementById("inlineRadio19").checked
    campos_tipo_produto["inlineRadio20"] =  document.getElementById("inlineRadio20").checked
    campos_tipo_produto["inlineRadio21"] =  document.getElementById("inlineRadio21").checked
    campos_tipo_produto["inlineRadio22"] =  document.getElementById("inlineRadio22").checked
    tipo_produto["campos"] = campos_tipo_produto
    if (campos_tipo_produto["inlineRadio19"] === true){
    tipo_produto["valor"] = document.getElementById("inlineRadio19").value
    }
    if (campos_tipo_produto["inlineRadio20"] === true){
    tipo_produto["valor"] = document.getElementById("inlineRadio20").value
    }
    if (campos_tipo_produto["inlineRadio21"] === true){
    tipo_produto["valor"] = document.getElementById("inlineRadio21").value
    }
    if (campos_tipo_produto["inlineRadio22"] === true){
    tipo_produto["valor"] = document.getElementById("inlineRadio22").value
    }
    data["amostra_tipo_produto"] = tipo_produto
    
    
     var tipo_arte= {}
    var campos_tipo_arte = {}
    campos_tipo_arte["inlineRadio30"] =  document.getElementById("inlineRadio30").checked
    campos_tipo_arte["inlineRadio31"] =  document.getElementById("inlineRadio31").checked
    campos_tipo_arte["inlineRadio32"] =  document.getElementById("inlineRadio32").checked
    tipo_arte["campos"] = campos_tipo_arte
    if (campos_tipo_arte["inlineRadio30"] === true){
    tipo_arte["valor"] = document.getElementById("inlineRadio30").value
    }
    if (campos_tipo_arte["inlineRadio31"] === true){
    tipo_arte["valor"] = document.getElementById("inlineRadio31").value
    }
    if (campos_tipo_arte["inlineRadio32"] === true){
    tipo_arte["valor"] = document.getElementById("inlineRadio32").value
    }
    
    info_amostra["tipo_arte"] = tipo_arte
    data["amostra_tipo_arte"] = info_amostra    
    
    var tempo_etapa = new Date()
    
   if (data.amostra.valor == "Sim" && data.amostra_tipo_arte.tipo_arte.valor == "PB"){
       var proximas_etapas = []
       var proxima_etapa = {} 
        proxima_etapa["forms"] = "DES1"
        proxima_etapa["nomes"] = "Análise de Especificação"
        proxima_etapa["inicio"] = tempo_etapa
        var nova_data1 = tempo_etapa.setDate(tempo_etapa.getDate()+1)
        proxima_etapa["final"] = new Date(nova_data1)
        proximas_etapas.push(proxima_etapa)
        
        var tempos_processo = []
        var tempo_processo = {}
        
        tempo_processo["inicio"] = tempo_etapa
        tempo_processo["etapa"] = "Analise de Especificação"
        tempo_processo["formulario"] = "DES1"
        tempo_processo["criado_por"] = usuario.fullname
        tempos_processo.push(tempo_processo)
        data["proxima_etapa"] = proximas_etapas
        data["tempos_processo"] = tempos_processo
  
   } else {
    
    
    if (data.tipo_trabalho.valor == "Novo"){
        var proximas_etapas = []
        
        var proxima_etapa = {}
        proxima_etapa["forms"] = "ART1"
        proxima_etapa["nomes"] = "Análise Inicial"
        proxima_etapa["inicio"] = tempo_etapa
        var nova_data1 = tempo_etapa.setDate(tempo_etapa.getDate()+1)
        proxima_etapa["final"] = new Date(nova_data1)
        proxima_etapa["dashboard"] = "prepress"
        proximas_etapas.push(proxima_etapa)
        
        proxima_etapa["forms"] = "DES1"
        proxima_etapa["nomes"] = "Análise de Especificação"
        proxima_etapa["inicio"] = tempo_etapa
        var nova_data1 = tempo_etapa.setDate(tempo_etapa.getDate()+1)
        proxima_etapa["final"] = new Date(nova_data1)
        proxima_etapa["dashboard"] = "desenvolvimento"
        proximas_etapas.push(proxima_etapa)
        
        
        
        data["proxima_etapa"] = proximas_etapas
        
        
        
        var tempos_processo = []
        var tempo_processo = {}
        tempo_processo["inicio"] = tempo_etapa
        tempo_processo["etapa"] = "Analise Inicial"
        tempo_processo["formulario"] = "ART1"
        tempo_processo["criado_por"] = usuario.fullname
        tempos_processo.push(tempo_processo)
        tempo_processo["inicio"] = tempo_etapa
        tempo_processo["etapa"] = "Analise de Especificação"
        tempo_processo["formulario"] = "DES1"
        tempo_processo["criado_por"] = usuario.fullname
        tempos_processo.push(tempo_processo)
        
        data["tempos_processo"] = tempos_processo
        
    }
    if (data.tipo_trabalho.valor == "Alteração"){
       var proximas_etapas = []
       var proxima_etapa = {}
        proxima_etapa["forms"] = "ART1"
        proxima_etapa["nomes"] = "Análise Inicial"
         proxima_etapa["inicio"] = tempo_etapa
         proxima_etapa["dashboard"] = "prepress"
        var nova_data1 = tempo_etapa.setDate(tempo_etapa.getDate()+1)
        proxima_etapa["final"] = new Date(nova_data1)
        proximas_etapas.push(proxima_etapa)
        
        data["proxima_etapa"] = proximas_etapas  
        
        var tempos_processo = []
        var tempo_processo = {}
        
        tempo_processo["inicio"] = tempo_etapa
        tempo_processo["etapa"] = "Analise Inicial"
        tempo_processo["formulario"] = "ART1"
        tempo_processo["criado_por"] = usuario.fullname
        tempos_processo.push(tempo_processo)
        
        data["tempos_processo"] = tempos_processo
        
        
       
    }
        if (data.tipo_trabalho.valor == "Regravação"){
        var proximas_etapas = []
        var proxima_etapa = {}
       proxima_etapa["forms"] = "FORM6"
        proxima_etapa["nomes"] = "Pré Gravação"
         proxima_etapa["inicio"] = tempo_etapa
         proxima_etapa["dashboard"] = "prepress"
        var nova_data1 = tempo_etapa.setDate(tempo_etapa.getDate()+1)
        proxima_etapa["final"] = new Date(nova_data1)
        proximas_etapas.push(proxima_etapa)
        
        data["proxima_etapa"] = proximas_etapas 
        
        var tempos_processo = []
        var tempo_processo = {}
        
        tempo_processo["inicio"] = tempo_etapa
        tempo_processo["etapa"] = "Pré Gravação"
        tempo_processo["formulario"] = "FORM6"
        tempo_processo["criado_por"] = usuario.fullname
        tempos_processo.push(tempo_processo)
        
        data["tempos_processo"] = tempos_processo
        
        
        
    }
    if (data.tipo_trabalho.valor == "Duplicação"){
        
        
         var tempos_processo = []
        var tempo_processo = {}
        
        tempo_processo["inicio"] = tempo_etapa
        tempo_processo["etapa"] = "Preenchimento e Liberação de Especificações"
        tempo_processo["formulario"] = "ART5"
        tempo_processo["criado_por"] = usuario.fullname
        tempos_processo.push(tempo_processo)
        
        data["tempos_processo"] = tempos_processo
    }
   }
    
    console.log(data)
  if (valido === true){
        salva_ticket(data)
  
    }
  	

  	}
  	
  	  function salva_ticket(dados){
          
            
            
            
           var cria_base = api.custom_objects.create("BR-TECNO_Tickets",dados)
           
           
            document.getElementById("info_ticket").innerText = "Ticket criado com sucesso!"
            
           setTimeout(function(){location.reload()}, 3000);
       }
       
      
     
    function select_etapa(){
     var etapas = ["global","bureau","prepress","provaprint","fotopolimero","pregravacao","galvano","gravacao","analise","liberacao"]
      
         var linha = event.srcElement.id
        console.log(linha)
        var linha_array = linha.split("_")
        var div_img = "img_"+linha_array[1]
         var div_mostra = "mostrafiltros_"+linha_array[1]
        var imagem_atual = document.getElementById(div_img).src
        if (imagem_atual.indexOf("_off") > -1){
        var nova_imagem = imagem_atual.replace("_off","_on")
        
        
        var tira = etapas.splice(etapas.indexOf(linha_array[1]),1)
        
        
        for (i=0;i<etapas.length;i++){
                var div_outras = "img_"+etapas[i]
                var imagem_atual2 = document.getElementById(div_outras).src
                
                var nova_imagem2 = imagem_atual2.replace("_on","_off")
                document.getElementById(div_outras).src = nova_imagem2
            
        }
       if (linha_array[1] == "bureau" || linha_array[1] == "prepress" || linha_array[1] == "provaprint"){
        document.getElementById(div_mostra).style = "display: inline-block; width: 100%;"
       }
        if (linha_array[1] != "bureau"){
          document.getElementById("mostrafiltros_bureau").style = "display: none"
        }
        if (linha_array[1] != "prepress"){
          document.getElementById("mostrafiltros_prepress").style = "display: none"
        }
        if (linha_array[1] != "provaprint"){
          document.getElementById("mostrafiltros_provaprint").style = "display: none"
        }
          document.getElementById(div_img).src = nova_imagem
        
        } else {
        
        
        if (linha_array[1] != "bureau" && linha_array[1] != "prepress" && linha_array[1] != "provaprint"){
          document.getElementById(div_mostra).style = "display: none"
        }
          
        }
       
        
    }

</script>

<script>
    document.getElementById("data_abertura").value = dateFormat(new Date(hoje),"yyyy-mm-dd")
    preenche_tarefas()
</script>


    </body>

</html>