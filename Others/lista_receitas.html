<!doctype html>
<html>
    <head>
      <title>Lista Receitas - Valgroup</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      
      <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">

      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <link rel="stylesheet" href="css/style.css">
      <link rel="stylesheet" href="css/table.css">
        <meta name="viewport" content="width=944">
        <meta name="robots" content="noindex, follow">
    	<link rel="Shortcut icon" href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/favicon.ico" type="image/x-icon">
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon.png" rel="apple-touch-icon" />
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed" />
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72" />
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114" />
        <link href="/portal.cgi/PP_FILE_STORE/Sistema/assets/img/icons/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144" />
        <link rel="stylesheet" href="fonts/fontawesome-all.min.css">
        <link rel="stylesheet" href="fonts/font-awesome.min.css">
        <link rel="stylesheet" href="fonts/fontawesome5-overrides.min.css">
        <script src="js/popper.js"></script>
        <script src="js/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/jscolor.js"></script>
        <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.4.2/chroma.min.js'></script>
    
        <script src="/portal.cgi/PP_FILE_STORE/Sistema/assets/js/vendor/modernizr-2.6.2.min.js"></script>
      	<script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery-1.8.3.min.js'></script>
    	<script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery-ui-1.9.2.custom.js'></script>
    	<script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.cookie.js'></script>
    	<script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/chroma-js/2.4.2/chroma.min.js'></script>
    
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery-linedtextarea.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/codemirror.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/javascript.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.tmpl.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery-regex.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/sitemapstyler.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/date.format.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.iframe-transport.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.fileupload.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.notify.min.js'></script>
    <!-- portal.js --> <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.event.drag-2.2.js'></script>
        <script type='text/javascript' src='/portal.cgi?api=js'></script>
    	<script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/portal/js/nixps-portal-api.js'></script>
        <script type='text/javascript' src='/portal.cgi/PP_FILE_STORE/Sistema/3rdParty/jquery.i18n.js'></script>
       
       
    

    </head>


    <body>

  		<div class="wrapper d-flex align-items-stretch">
  			<nav id="sidebar">
  				<div class="p-4 pt-5">
            <img>
  		  		<img src="./logo/logo_valgroup.png" style="width: 90%; margin-bottom: 50px;">
        	   <ul class="active components mb-5">
           
          <li  style="list-style-type: none">
               <a href="cadastros_clientes.html"><img src="./Icons/clientes.png" width="30px" style="margin-right: 10px">Clientes</a>
              </li>
          <li>
              <a href="#homeSubmenu2" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><img src="./Icons/fornecedores.png" width="30px" style="margin-right: 10px">Fornecedores</a>
           <li class="active" style="list-style-type: none">
               <ul class="collapse list-unstyled" id="homeSubmenu2">
               <li style="list-style-type: none">
               <a href="cadastros_fornecedores_flexo.html"><img src="./Icons/flexo.png" width="20px" style="margin-right: 10px">Flexo</a>
          </li>
          <li  style="list-style-type: none">
               <a href="cadastros_fornecedores_roto.html"><img src="./Icons/roto.png" width="20px" style="margin-right: 10px">Roto</a>
          </li>
          <li  style="list-style-type: none">
               <a href="cadastros_fornecedores_anilox.html"><img src="./Icons/anilox.png" width="20px" style="margin-right: 10px">Anilox</a>
          </li>
          <li  style="list-style-type: none">
               <a href="cadastros_fornecedores_pc.html"><img src="./Icons/porta_cliche.png" width="20px" style="margin-right: 10px">Cilindro Porta Clichê</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_fornecedores_prepress.html"><img src="./Icons/prepress.png" width="20px" style="margin-right: 10px">Prepress</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_fornecedores_materiaprima.html"><img src="./Icons/material.png" width="20px" style="margin-right: 10px">Matéria Prima</a>
          </li>
          </ul>
          
          <li>
              <a  href="#homeSubmenu3" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><img src="./Icons/tecnicos.png" width="30px" style="margin-right: 10px">Cadastros Técnicos</a>
           <li  style="list-style-type: none">
               <ul class="collapse list-unstyled" id="homeSubmenu3">
              
          <li  style="list-style-type: none">
               <a href="cadastros_tecnicos_unidades.html"><img src="./Icons/unidades.png" width="20px" style="margin-right: 10px">Unidades</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_tipotrabalho.html"><img src="./Icons/tipo_trabalho.png" width="20px" style="margin-right: 10px">Tipo de Trabalho</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_finalidade.html"><img src="./Icons/finalidade.png" width="20px" style="margin-right: 10px">Finalidade</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_substratos.html"><img src="./Icons/substratos.png" width="20px" style="margin-right: 10px">Substratos</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_duplaface.html"><img src="./Icons/dupla_face.png" width="20px" style="margin-right: 10px">Dupla Face</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_estruturas.html"><img src="./Icons/estruturas.png" width="20px" style="margin-right: 10px">Estruturas</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_tintas.html"><img src="./Icons/tintas.png" width="20px" style="margin-right: 10px">Tintas</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_situacaoanilox.html"><img src="./Icons/situacao_anilox.png" width="20px" style="margin-right: 10px">Situação de Anilox</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_pc.html"><img src="./Icons/porta_cliche.png" width="20px" style="margin-right: 10px">Cilindros Porta Clichê</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_lavagemanilox.html"><img src="./Icons/lavagem_anilox.png" width="20px" style="margin-right: 10px">Anilox (tipo de lavagem)</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_segmentos.html"><img src="./Icons/segmentos.png" width="20px" style="margin-right: 10px">Segmentos</a>
          </li>
          <li style="list-style-type: none">
               <a href="cadastros_tecnicos_maquinas.html"><img src="./Icons/impressoras.png" width="20px" style="margin-right: 10px">Máquinas</a>
          </li>
          <li class="active" style="list-style-type: none">
               <a href="cadastros_tecnicos_testform.html"><img src="./Icons/testform.png" width="20px" style="margin-right: 10px">Test Form</a>
          </li>
          </ul>
          
              
                <li class="active">
              <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><img src="./Icons/sequencia.png" width="30px" style="margin-right: 10px">Sequência Padrão</a>
              <ul class="collapse list-unstyled" id="homeSubmenu">
              <li  style="list-style-type: none">
               <a href="receita_tintas.html"><img src="./Icons/contagotas.png" width="20px" style="margin-right: 10px">Criar Sequência</a>
              </li>
              <li class="active" style="list-style-type: none">
               <a href="lista_receitas.html"><img src="./Icons/listasequencia.png" width="20px" style="margin-right: 10px">Lista Sequências</a>
              </li>
              <li style="list-style-type: none">
               <a href="cadastros_tintas.html"><img src="./Icons/novasequencia.png" width="20px" style="margin-right: 10px">Lista de Cores</a>
              </li>
              </ul>
          </li>
              </ul>
          
  	     
   
  	        <div class="footer">
  	        	<p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0.
  						  Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib.com</a>
  						   Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
  	        </div>
  	      </div>
      	</nav>

          <!-- Page Content  -->
        <div id="content" class="p-4 p-md-5">

          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">

              <button type="button" id="sidebarCollapse" class="btn btn-primary">
                <i class="fa fa-bars"></i>
                <span class="sr-only">Toggle Menu</span>
              </button>
              <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                  <i class="fa fa-bars"></i>
              </button>
              <div id="bemvindo" style="margin-left: 20px;"></div>

              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="nav navbar-nav ml-auto">
                 <li class="nav-item">
                      <a class="nav-link" href="cadastros_clientes.html">Cadastros</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="solicitacao_desenho.html">Tickets</a>
                  </li>
                  <li class="nav-item">
                      <a class="nav-link" href="alterar_senha.html" target="_Blank">Alterar Senha</a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
          <div>
       
     
                 <div id="info_grava_tinta"></div>
        
       
        
        <div  class="form-group col-md-11" style="display:inline-block;">
    
       
            <div id="id_tinta" style="display:none"></div>
            <div id="nome_cor" style="display:none"></div>
            <div id="hex_cor" style="display:none"></div>
            <div id="id_receita" style="display:none"></div>
            
            
        <h4 id="que_estou_fazendo"></h4>
       
              
            
             
            </div>
           
            <h5 id="a_div_testform"><i id="testformArrow" class="fas fa-plus-square" onclick="mostraTestforms()" style="margin-right: 5px; cursor:pointer;"></i>Sequencia Padrão</h5>
                 <div id="info_testform" class="form-group" style="display: none">
         <div  class="form-group col-md-3" style="display:inline-block;">
                <label for="nome_cliente">Cliente</label>
                  <input type="text" class="form-control" id="nome_cliente"  name="nome_cliente" onchange="select_cliente()" list='pastas_cliente'>
                  <datalist id="pastas_cliente"></datalist>
                 </div>
                
                
                <div  class="form-group col-md-4" style="display:inline-block;">
                <label for="nome_receita">Nome da Sequência Padrão</label>
                  <input type="text" class="form-control" id="nome_receita" onkeyup="this.value=this.value.toUpperCase()" name="nome_receita">
                 </div>
                     
                <div class="form-group col-md-2"  style="display:none;">`
                <label for="tipo_impressao">Impressão</label><br>
                  <select type="text" class="form-control" onchange="seleciona_tipo_impressao()" id="tipo_impressao" name="tipo_impressao">
                      <option value="undefined">Selecionar...</option>
                      <option>Rotogravura</option>
                      <option>Flexografia</option>
                      </select>
                 </div>
                 
                 <div class="form-group col-md-2"  style="display:inline-block; vertical-align: top;">
                 <label for="lado_impressao">Camada Impressão</label><br>
                  <select type="text" class="form-control" id="lado_impressao" name="lado_impressao">
                      <option value="undefined">Selecionar...</option>
                      <option>Interno</option>
                      <option>Externo</option>
                      </select>
                 </div>
                 <div id="mostrar_tecnologia" class="form-group col-md-2" style="display:inline-block;">
                 <label for="a_tecnologia_flexo">Tecnologia</label><br>
                  <select class="form-control"  id="a_tecnologia_flexo" name="a_tecnologia_flexo">
                      <option value="undefined">Selecionar...</option>
                      <option>KODAK NX</option>
                      <option>DUPONT</option>
                      <option>MCDERMID</option>
                      <option>FLINT</option>
                     </select>
                 </div>
           
                 <div class="form-group col-md-3"  style="display:inline-block; vertical-align: top;">
                <label for="codigo_arte">Código Arte</label>
                  <select type="text" class="form-control" onchange="select_codigo_arte()" id="codigo_arte" name="codigo_arte">
                      <option value="undefined">Selecionar...</option>
                  </select>
                 </div>
                 
            

              <div class="form-group col-md-8"  style="display:inline-block; vertical-align: top;">
                <label  for="produto">Produto</label><br>
                  <select type="text" class="form-control" id="produto" onchange="limpacampo()" name="produto">
                      <option value="undefined">Selecionar...</option>
                      </select>
                      <span id="error_produtoexistente" class="error" style="color: red"></span>
                </div>
                  <span class="d-inline-block" style="margin-top: 38px;" tabindex="0" data-toggle="tooltip" data-placement="top" title="Adicionar Produto"><img  src="./Icons/icone_mais.png" width="30px" style="cursor: pointer; vertical-align: top" onclick="adiciona_produto()"></span> 
             
                <br>
                <br>
                <h6>Produtos</h6>
             
             <div id="grid_produto" class="products">
                 
             </div>
             
             <br>
             <br>
           
               
                
                
                
               
                <div class="form-group col-md-3"  style="display:inline-block; vertical-align: top;">
                <label for="nome">Nome Cor</label><br>
                  <input type="text" class="form-control" style="width: 80%; display: inline-block;" onkeyup="this.value=this.value.toUpperCase()"  id="nome" name="nome">
                  <input type="text" style="width: 15%; border: none; margin-rigth: 5px" id="acor" name="acor">
                 
                 </div>
                 <div id="div_referencia" class="form-group col-md-3" style="display:inline-block;">
                <label for="nome_referencia">Pantone</label>
                  <input type="text" class="form-control" id="nome_referencia" name="nome_referencia" onchange="seleciona_pantone()" list="as_cores">
                  <datalist id="as_cores"></datalist>
        
                 </div>
                <div id="div_referencia" class="form-group col-md-3" style="display:inline-block;">
                <div id="div_L" class="form-group" style="display:inline-block; width: 32%;">
                 <label for="valor_L">L</label>
                  <input type="number" class="form-control" onchange="muda_cor()" id="valor_L" name="valor_L">
                 </div> 
                 <div id="div_A" class="form-group" style="display:inline-block;width: 32%;">
                 <label for="valor_A">a</label>
                  <input type="number" class="form-control" onchange="muda_cor()" id="valor_A" name="valor_A">
                 </div> 
                 <div id="div_B" class="form-group" style="display:inline-block;width: 32%;">
                 <label for="valor_B">b</label>
                  <input type="number" class="form-control" onchange="muda_cor()"  id="valor_B" name="valor_B">
                 </div>
                </div>
                 
               
                <div id="mostrar_kit" class="form-group col-md-2"  style="display:inline-block; vertical-align: top; width: 23%;">
                <label for="ref_kit">Ref Kit</label><br>
                  <input type="text" class="form-control" onkeyup="this.value=this.value.toUpperCase()"  id="ref_kit" name="ref_kit" style="width: 90%;">
                 
                 </div>
                 
                 <div id="mostrar_rugosidade" class="form-group col-md-2"  style="display:none;">
                <label for="rugosidade_minima">Rugosidade</label><br>
                 <input type="number" class="form-control"  style="width: 35%; display: inline-block;" id="rugosidade_minima" name="rugosidade_minima" step="0.01" value="0.00" min="0"><span style="font-size: 0.8em">min</span>
                 <input type="number" class="form-control"  style="width: 35%; display: inline-block;" id="rugosidade_maxima" name="rugosidade_maxima" step="0.01" value="0.00" min="0"><span style="font-size: 0.8em">max</span>
                 
                 </div>
                
            
                  
                 
                 <div  class="form-group col-md-11" style="display:inline-block;">
                <label for="observacoes">Observações da Referência</label>
                  <textarea  class="form-control"  id="observacoes" onkeyup="this.value=this.value.toUpperCase()" name="observacoes" columns="1" rows="3" value=""></textarea>
                 </div>
                 
      
        
               
                 <div id="mostrar_angulo" class="form-group col-md-3" style="display:none;">
                <label for="o_angulo_flexo">Angulo</label>
                  <input type="number" class="form-control" id="o_angulo_flexo"  name="o_angulo_flexo">
                 </div>
                  <div id="mostrar_referencia_tinta" class="form-group col-md-2" style="display:inline-block;">
                 <label for="referencia_tinta">Referência Tinta</label><br>
                  <input type="text" class="form-control"  id="referencia_tinta" onkeyup="this.value=this.value.toUpperCase()" name="referencia_tinta" list="lista_referencias">
                      <datalist id="lista_referencias"></datalist>
                 </div>
                 <div  class="form-group col-md-2" style="display:inline-block;">
                <label for="a_lineatura_flexo">LPC</label>
                  <input type="text" class="form-control" id="a_lineatura_flexo" onkeyup="this.value=this.value.toUpperCase()" name="a_lineatura_flexo">
                 </div>
                 <div id="mostrar_diamante" class="form-group col-md-3" style="display:none;">
                <label for="o_diamente_flexo">Diamante</label>
                  <input type="number" class="form-control" id="o_diamante_flexo"  name="o_diamante_flexo">
                 </div>
                 <div id="mostrar_anilox" class="form-group col-md-3" style="display:inline-block;">
                 <label for="o_anilox_flexo">Anilox</label><br>
                  <select class="form-control"  id="o_anilox_flexo" name="o_anilox_flexo">
                      <option value="undefined">Selecionar...</option>
                     </select>
                 </div>
                 <div id="mostrar_duplaface" class="form-group col-md-3" style="display:inline-block;">
                 <label for="a_dupla_flexo">Dupla Face</label><br>
                  <select class="form-control"  id="a_dupla_flexo" name="a_dupla_flexo">
                      <option value="undefined">Selecionar...</option>
                     </select>
                 </div>
            
                 <div id="mostrar_duplaface" class="form-group col-md-11" style="display:inline-block;">
                 
                 <button class="btn btn-secondary" onclick="adicionar_tinta_flexo()">Adicionar Cor</button>
                 </div>
                      
                
               
            
                 
                 
                
                 
                 
                 
           
      <div  id="error_tinta" class="form-group col-md-11"></div>    
    <br>
    <div id="altera_tinta" style="display: none">99</div>
         <div id="receitas_flexo" class="form-group col-md-11" style="display:inline-block;">
          <h6 style="display: inline-block;">Sequência de Tintas</h6><br>
           <div  class="form-group col-md-4" style="display:inline-block;">
                
                  <input type="checkbox" class="form-group" onchange="importar_outra_receita()" id="importar_receita" name="importar_receita">
                  <label for="importar_receita">Importar Tintas de Outra Receita?</label>
                 </div>
                 
                <div id="div_outra_receita" class="form-group col-md-3" style="display:none;">
                <label for="receita_anterior">Selecionar Receita</label><br>
                  <select class="form-control"  id="receita_anterior" onchange="importar_receita_anterior()" name="receita_anterior">
                      <option value="undefined">Selecionar...</option>
                     </select>
                 
                 </div>
                <button id="botao_importar" class="btn btn-primary" onclick="importar_tintas()" style="display:none;">Importar Tintas</button>
                  
          <br>
          <table id="tabela_receitas_flexo" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%" style="display: inline-block">
          <thead>
            <tr>
            
            
              <th class="th-sm" style="width:15%; background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;">Cor
              </th>
              <th class="th-sm" style="width:7.5%;padding: 5px; border: 2px solid #FAFAFA;">Ref. Tinta
              </th>
              <th class="th-sm" style="width:5%; background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;">LPC
              </th>
              <th class="th-sm" style="width:5%;padding: 5px; border: 2px solid #FAFAFA;">Anilox
              </th>
              <th class="th-sm" style="width:5%; background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;">BCM
              </th>
              <th class="th-sm" style="width:5%;padding: 5px; border: 2px solid #FAFAFA;">DF
              </th>
           
               <th class="th-sm" style="width:5%; background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;">Cameron
               </th>
               <th class="th-sm" style="width:5%;padding: 5px; border: 2px solid #FAFAFA;">Fotocelula
              </th>
                 
              <th class="th-sm" style="width:5%; background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;">Ref Kit
              </th>
                <th class="th-sm" style="width:5%; vertical-align: top;padding: 5px; border: 2px solid #FAFAFA;">Editar
            </th>
              <th class="th-sm" style="width:5%; vertical-align: top; background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;">Apagar
            </th>
           
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
        
        <table id="tabela_receitas_roto" class="table table-sm" cellspacing="0" width="100%" style="display: none">
          <thead>
            <tr>
            
            
              <th class="th-sm" style="width:20%">Cor
              </th>
              <th class="th-sm" style="width:20%">Referencia
              </th>
               <th class="th-sm" style="width:10%">Angulo
              </th>
              <th class="th-sm" style="width:10%">LPC
              </th>
              <th class="th-sm" style="width:10%">Diamante
              </th>
              <th class="th-sm" style="width:10%">Rugosidade
              </th>
           
               <th class="th-sm" style="width:5%">Cameron
               </th>
               <th class="th-sm" style="width:5%">Fotocelula
              </th>
                <th class="th-sm" style="width:5%; vertical-align: top;">Editar
            </th>
              <th class="th-sm" style="width:5%; vertical-align: top;">Apagar
            </th>
           
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
                
                
           <button  class="btn btn-primary" onclick="adiciona_cor_vazia()" style="cursor:pointer;display: inline-block; margin-left: 10px; background-color:darkblue;">Adiciona Cor Vazia</button><button class="btn btn-primary" id="botao_batch" onclick="apagar_em_batch()" style="display: none;">Apagar Selecionadas</button>  
        
        <br>
       
          
            
            
             
            </div>
                <br> 
             <button class="btn btn-primary" onclick="salvar_receita()" style="cursor: pointer">Salvar Sequência</button>
        
        </div>
         </div>   
         
          <br>
          <table id="tabela_lista_receitas" class="table custom-table"  style="display: inline-block">
          <thead>
            <tr>
            
            
              
              <th class="th-sm" style="width:25%">Nome da Sequencia
              </th>
              <th class="th-sm" style="width:25%">Cliente
              </th>
              <th class="th-sm" style="width:30%">Tintas
              </th>
              
               <th class="th-sm" style="width:10%">Impressão
              </th>
                
                <th class="th-sm" style="width:5%; vertical-align: top;">Editar
            </th>
              <th class="th-sm" style="width:5%; vertical-align: top;">Apagar
            </th>
           
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
                
          
           
                <br>
                  <div id="info_update" style="color: green"></div>
              
            </div>
        
       
  	
  		
  	
  	<script>
  	    // funcoes de apoio
  	  
  	  var usuario = api.auth.get_current_user() 
  	    
  	 function array_move(arr, old_index, new_index) {
    if (new_index >= arr.length) {
        var k = new_index - arr.length + 1;
        while (k--) {
            arr.push(undefined);
        }
    }
    arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);
    return arr; // for testing
};
  	    
      function clearTable(table) {
  var rows = table.rows;
  var i = rows.length;
  while (--i) {
    rows[i].parentNode.removeChild(rows[i]);
    // or
    // table.deleteRow(i);
  }
}

function onlyUnique(value, index, self) {
  return self.indexOf(value) === index;
}

function cmyk2rgb(c, m, y, k, normalized){
    c = (c / 100);
    m = (m / 100);
    y = (y / 100);
    k = (k / 100);
    
    c = c * (1 - k) + k;
    m = m * (1 - k) + k;
    y = y * (1 - k) + k;
    
    var r = 1 - c;
    var g = 1 - m;
    var b = 1 - y;
    
    if(!normalized){
        r = Math.round(255 * r);
        g = Math.round(255 * g);
        b = Math.round(255 * b);
    }
    
    return {
        r: r,
        g: g,
        b: b
    }
}

function rgb2cmyk(r, g, b, normalized){
    var c = 1 - (r / 255);
    var m = 1 - (g / 255);
    var y = 1 - (b / 255);
    var k = Math.min(c, Math.min(m, y));
    
    c = (c - k) / (1 - k);
    m = (m - k) / (1 - k);
    y = (y - k) / (1 - k);
    
    if(!normalized){
        c = Math.round(c * 10000) / 100;
        m = Math.round(m * 10000) / 100;
        y = Math.round(y * 10000) / 100;
        k = Math.round(k * 10000) / 100;
    }
    
    c = isNaN(c) ? 0 : c;
    m = isNaN(m) ? 0 : m;
    y = isNaN(y) ? 0 : y;
    k = isNaN(k) ? 0 : k;
    
    return {
        c: c,
        m: m,
        y: y,
        k: k
    }
}


function componentToHex(c) {
  var hex = c.toString(16);
  return hex.length == 1 ? "0" + hex : hex;
}

function rgbToHex(r, g, b) {
  return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
}

// preenche datalist


var pastas = api.custom_objects.list("BR-VALFI_clientes",[],["fantasia","ascending"],["fantasia"]).results

 var options=''; // variable to store the options
        for(var i = 0; i < pastas.length; i++){
            
        options += '<option value="'+pastas[i].fantasia+'" />';

        }
         document.getElementById('pastas_cliente').innerHTML = options;


var as_tintas = api.custom_objects.list("PantoneColor").results
        
        
         var options=''; // variable to store the options
        for(var i = 0; i < as_tintas.length; i++){
            
        options += '<option value="'+as_tintas[i].nome+'" />';

        }
         document.getElementById('as_cores').innerHTML = options;
         
         
var as_referencias = ["AMOSTRA","CARTELA","CROMIA","PANTONE","LAB"]
        
        
         var options=''; // variable to store the options
        for(var i = 0; i < as_referencias.length; i++){
            
        options += '<option value="'+as_referencias[i]+'" />';

        }
         document.getElementById('lista_referencias').innerHTML = options;
         
         

         
// preenche selects
  
  selectTipo = document.getElementById('o_anilox_flexo');
    var tiposTipo = api.custom_objects.list_with_options("BR-VALFI_anilox",["situacao","not equal to","BLOQUEADO"]).results
    for (var i = 0; i<tiposTipo.length; i++){
        var opt = document.createElement('option');
        opt.value = tiposTipo[i].numero;
        opt.innerHTML = tiposTipo[i].numero;
        selectTipo.appendChild(opt);
    }
    
    selectDupla = document.getElementById('a_dupla_flexo');
    var tiposTipo2 = api.custom_objects.list_with_options("BR-VALFI_duplaface").results
    for (var i = 0; i<tiposTipo2.length; i++){
        var opt = document.createElement('option');
        opt.value = tiposTipo2[i].codigo;
        opt.innerHTML = tiposTipo2[i].codigo;
        selectDupla.appendChild(opt);
    }

   
  	</script>
  	
  	<script>
  	
  function muda_cor(){
      var o_L = parseInt(document.getElementById("valor_L").value)
       var o_A = parseInt(document.getElementById("valor_A").value)
        var o_B = parseInt(document.getElementById("valor_B").value)
        
    var resultado = chroma.lab(o_L,o_A,o_B)
     var valores_reg = resultado._rgb 
     var hex = rgbToHex(parseInt(valores_reg[0]),parseInt(valores_reg[1]),parseInt(valores_reg[2]))
    // console.log(hex)
     document.getElementById("acor").style = "background-color: "+hex+"; width: 30px; border: none; display: inline-block;"
     document.getElementById("nome_cor").innerText = hex
  }
    
    </script>
  	
  <script>
    function preenche_tabela_receita(tipo_impressao){
       
        
        if (tipo_impressao = "flexo"){
        
        clearTable(document.getElementById("tabela_receitas_flexo"))
          
          
         var table = document.getElementById("tabela_receitas_flexo")
        var qtasrow = table.rows.length
      
            
            for (i=0;i<tintas_flexo.length;i++){
            var row =  table.insertRow(qtasrow);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);
            var cell6 = row.insertCell(5);
            var cell7 = row.insertCell(6);
            var cell8 = row.insertCell(7);
            var cell9 = row.insertCell(8);
            var cell10 = row.insertCell(9);
            var cell11 = row.insertCell(10);
           
           
           var numero_cilindro = i+1
           
           cell1.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell3.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell5.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell7.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell9.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell11.style = "background-color: lightgray; padding: 5px; border: 2px solid #FAFAFA;"
           cell2.style = "padding: 5px; border: 2px solid lightgray;"
           cell4.style = "padding: 5px; border: 2px solid lightgray;"
           cell6.style = "padding: 5px; border: 2px solid lightgray;"
           cell8.style = "padding: 5px; border: 2px solid lightgray;"
           cell10.style = "padding: 5px; border: 2px solid lightgray;"
            
           cell1.innerHTML = '<div style="font-size: 0.8em; display: inline-block;"><input type="checkbox" id="batch_'+tintas_flexo[i].cor+'" onclick="batch_tintas()"><div style="display:inline-block; margin-left: 3px"><i onclick="move_acima()" id="'+i+'" class="fas fa-arrow-up" style="margin-right: 5px; cursor: pointer;"></i><i  onclick="move_abaixo()" id="'+i+'" class="fas fa-arrow-down" style="margin-right: 5px;cursor: pointer;"></i><span style="margin-top:5px;height:20px;width:20px;background-color:'+tintas_flexo[i].hex+';border-radius:50%;display:inline-block"></span></div><span style="display: inline-block;"></span></div><strong> '+numero_cilindro+' - '+tintas_flexo[i].cor+'</strong></div>'
           cell2.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].referencia_tinta+'</div>'
           cell3.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].lineatura+'</div>'
           cell4.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].anilox+'</div>'
            cell5.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].bcm+'</div>'
           cell6.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].dupla_face+'</div>'
         
          if (tintas_flexo[i].cameron === false){
           cell7.innerHTML = '<div style="font-size:1em; cursor: pointer"><input type="checkbox" id="'+tintas_flexo[i].cor+'" onchange="coloca_cameron()"></div>'
          } else {
             cell7.innerHTML = '<div style="font-size:1em; cursor: pointer"><input type="checkbox" id="'+tintas_flexo[i].cor+'" onchange="coloca_cameron()" checked></div>' 
          }
            if (tintas_flexo[i].fotocelula === false){
           cell8.innerHTML = '<div style="font-size:1em; cursor: pointer"><input type="checkbox" id="'+tintas_flexo[i].cor+'" onchange="coloca_fotocelula()"></div>'
            } else {
              cell8.innerHTML = '<div style="font-size:1em; cursor: pointer"><input type="checkbox" id="'+tintas_flexo[i].cor+'" onchange="coloca_fotocelula()" checked></div>'
             
            }
              cell9.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].ref_kit+'</div>'
        
            cell10.innerHTML = '<div><img id="'+tintas_flexo[i].cor+'" src="Icons/edit.png" height="30px" onclick="editarTinta()" style="cursor: pointer;"></div>'
            
            cell11.innerHTML = '<div><img id="'+tintas_flexo[i].cor+'" src="Icons/delete.png" height="30px" onclick="apagarTinta()" style="cursor: pointer;"></div>'
            qtasrow = qtasrow +1
      
      
        
        
    }
        } 
        // preenche as tintas de roto
        else {
          
           clearTable(document.getElementById("tabela_receitas_roto"))
          
          
         var table = document.getElementById("tabela_receitas_roto")
        var qtasrow = table.rows.length
      
            
            for (i=0;i<tintas_flexo.length;i++){
            var row =  table.insertRow(qtasrow);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);
            var cell6 = row.insertCell(5);
            var cell7 = row.insertCell(6);
            var cell8 = row.insertCell(7);
            var cell9 = row.insertCell(8);
            var cell10 = row.insertCell(9);
           
           
           var numero_cilindro = i+1
           
           var rug_min = tintas_flexo[i].rugosidade_minima
           var rug_max = tintas_flexo[i].rugosidade_maxima
            
           cell1.innerHTML = '<div style="font-size: 0.8em; display: inline-block;"><input type="checkbox" id="batch_'+tintas_flexo[i].cor+'" onclick="batch_tintas()"><div style="display:inline-block; margin-left: 3px"><i onclick="move_acima()" id="'+i+'" class="fas fa-arrow-up" style="margin-right: 5px; cursor: pointer;"></i><i  onclick="move_abaixo()" id="'+i+'" class="fas fa-arrow-down" style="margin-right: 5px;cursor: pointer;"></i><span style="margin-top:5px;height:20px;width:20px;background-color:'+tintas_flexo[i].hex+';border-radius:50%;display:inline-block"></span></div><span style="display: inline-block;"></span></div><strong> '+numero_cilindro+' - '+tintas_flexo[i].cor+'</strong></div>'
           cell2.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].referencia_cor+'</div>'
           cell3.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].angulo+'</div>'
           cell4.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].lineatura+'</div>'
           cell5.innerHTML = '<div style="font-size:1em; cursor: pointer">'+tintas_flexo[i].diamante+'</div>'
           cell6.innerHTML = '<div style="font-size:1em; cursor: pointer">'+rug_min+'/'+rug_max+'</div>'
           
           
          if (tintas_flexo[i].cameron === false){
           cell7.innerHTML = '<div style="font-size:1em; cursor: pointer"><input type="checkbox" id="'+tintas_flexo[i].cor+'" onchange="coloca_cameron()"></div>'
          } else {
             cell7.innerHTML = '<div style="font-size:1em; cursor: pointer"><input type="checkbox" id="'+tintas_flexo[i].cor+'" onchange="coloca_cameron()" checked></div>' 
          }
            if (tintas_flexo[i].fotocelula === false){
           cell8.innerHTML = '<div style="font-size:1em; cursor: pointer"><input type="checkbox" id="'+tintas_flexo[i].cor+'" onchange="coloca_fotocelula()"></div>'
            } else {
              cell8.innerHTML = '<div style="font-size:1em; cursor: pointer"><input type="checkbox" id="'+tintas_flexo[i].cor+'" onchange="coloca_fotocelula()" checked></div>'
             
            }
           
            cell9.innerHTML = '<div><img id="'+tintas_flexo[i].cor+'" src="Icons/edit.png" height="30px" onclick="editarTinta()" style="cursor: pointer;"></div>'
            
            cell10.innerHTML = '<div><img id="'+tintas_flexo[i].cor+'" src="Icons/delete.png" height="30px" onclick="apagarTinta()" style="cursor: pointer;"></div>'
            qtasrow = qtasrow +1
      
      
        
        
    }  
            
            
            
            
        }
        
        
        
       preenche_produtos_receita()
        
    }
    var tintas_batch = []
   
    function batch_tintas(){
      var linha = event.srcElement.id
      var linha_array = linha.split("_")
      var qual_apagar = linha_array[1]
      if (document.getElementById(linha).checked === true){
          tintas_batch.push(qual_apagar)
      } else {
          
          for (i=0;i<tintas_batch.length;i++){
              if (tintas_batch[i] == qual_apagar){
                  var tira = tintas_batch.splice(i,1)
              }
          }
      }
      if (tintas_batch.length === 0){
          document.getElementById("botao_batch").style = "display: none"
      } else {
          
          document.getElementById("botao_batch").style = "cursor:pointer;display: inline-block; margin-left: 55%; background-color: red; border-color; firebrick;"
      }
      
      
        
    }
    
    function apagar_em_batch(){
        for (i=0;i<tintas_batch.length;i++){
            var nome_tinta = tintas_batch[i]
            for (j=0;j<tintas_flexo.length;j++){
                if (tintas_flexo[j].cor == nome_tinta){
                    var tira = tintas_flexo.splice(j,1)
                }
                
            }
        }
        
        preenche_tabela_receita()
        
    }
    
    function move_acima(){
       var linha = parseInt(event.srcElement.id)
     //  console.log(linha)
     
       
      
        if (linha > 0){
       array_move(tintas_flexo,linha,linha-1)
        }

       preenche_tabela_receita()
 
        
    }
        
        function move_abaixo(){
          var linha = parseInt(event.srcElement.id)
    //   console.log(linha)
       if (linha < tintas_flexo.length-1){
           array_move(tintas_flexo,linha,linha+1)
       }
       
       preenche_tabela_receita()
 
       }
       
       function coloca_cameron(){
           var linha = event.srcElement.id
           
           for (i=0;i<tintas_flexo.length;i++){
               if (tintas_flexo[i].cor === linha){
                   tintas_flexo[i].cameron = document.getElementById(linha).checked
               }
           }
       }
       
       function coloca_fotocelula(){
           var linha = event.srcElement.id
           
           for (i=0;i<tintas_flexo.length;i++){
               if (tintas_flexo[i].cor === linha){
                   
                   tintas_flexo[i].fotocelula = document.getElementById(linha).checked
               }
           }
       }
      
        
    
    
    
    
    
    
    
     function apagarTinta(){
    if (confirm("Deseja mesmo apagar essa tinta?") === true){     
    var linha = event.srcElement.id
    for (i=0;i<tintas_flexo.length;i++){
        if (tintas_flexo[i].cor === linha){
            var tira = tintas_flexo.splice(i,1)
        }
    }
    preenche_tabela_receita()    
    }
     }
    
     function editarTinta(){
     var linha = event.srcElement.id
   for (i=0;i<tintas_flexo.length;i++){
       if (tintas_flexo[i].cor === linha){
           document.getElementById("altera_tinta").innerText = i
           
         document.getElementById("nome").value = tintas_flexo[i].cor
          document.getElementById("nome_referencia").value = tintas_flexo[i].referencia_cor
      //    document.getElementById("referencia_fisica_valor").value = tintas_flexo[i].referencia_fisica
         
        document.getElementById("referencia_tinta").value = tintas_flexo[i].referencia_tinta
        document.getElementById("o_angulo_flexo").value = tintas_flexo[i].angulo
        document.getElementById("o_diamante_flexo").value = tintas_flexo[i].diamante
        document.getElementById("rugosidade_minima").value = tintas_flexo[i].rugosidade_minima
        document.getElementById("rugosidade_maxima").value = tintas_flexo[i].rugosidade_maxima
        
        document.getElementById("a_lineatura_flexo").value = tintas_flexo[i].lineatura
        document.getElementById("o_anilox_flexo").value = tintas_flexo[i].anilox
         document.getElementById("a_dupla_flexo").value = tintas_flexo[i].dupla_face
          document.getElementById("observacoes").value = tintas_flexo[i].observacoes
        document.getElementById("valor_L").value = tintas_flexo[i].Lab.L
        document.getElementById("valor_A").value = tintas_flexo[i].Lab.a
        document.getElementById("valor_B").value = tintas_flexo[i].Lab.b
        
       document.getElementById("acor").style=  "background-color: "+tintas_flexo[i].hex+"; width: 30px; border: none; display: inline-block;"
       
           
       }
   }
    
    
    
    }
    
  </script>

<script>
    function salvar_receita(){
       
       if (tintas_flexo.length > 0){
       var data = {}
       
       data["nome"] = document.getElementById("nome_receita").value
       data["nome_cliente"] = document.getElementById("nome_cliente").value
       if (document.getElementById("inlineRadio1").checked === true){
       data["impressao"] = "Flexografia"
       } else {
           data["impressao"] = "Rotogravura"
       }
       data["lado_impressao"] = document.getElementById("lado_impressao").value
       data["receita_tintas"] = tintas_flexo
       data["tecnologia"] = document.getElementById("a_tecnologia_flexo").value
        data["produtos"] = recipe_products
        
    console.log(data)
    if (document.getElementById("id_receita").innerText == ""){
        data["criado_em"] = new Date()
       data["criado_por"] = usuario.fullname
     //  var cria_receita = api.custom_objects.create("BR-VALFI_receitaTinta",data)
       api.hub.start_from_whitepaper_with_variables("[CADASTRO TECNICOS]","receita_Criar",{"info":data,"usuario":usuario})
       
    } else {
        data["alterado_em"] = new Date()
       data["alterado_por"] = usuario.fullname
        data["_id"] = document.getElementById("id_receita").innerText
        api.hub.start_from_whitepaper_with_variables("[CADASTRO TECNICOS]","cliente_Alterar",{"info":data,"usuario":usuario})
    }
       
       
    location.reload()  
       } else {
           
           alert("Adicione ao menos 1 tinta a sequencia!!")
       }
       
    }
       
    
</script>
<script>
    function mostrar_referencia(){
        if (document.getElementById("referencia").checked === true){
            document.getElementById("div_referencia").style = "display:inline-block; vertical-align: top;"
            
        } else {
            
           document.getElementById("div_referencia").style = "display:none;"
        }
        
    }
    

</script>


 
    
    
    <script>
      function filtro_nomecor() {
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("input_nomecor");
      filter = input.value.toUpperCase();
      table = document.getElementById("tabela_tintas");
      tr = table.getElementsByTagName("tr");
      for (i = 1; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[0];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }       
      }
    }
    
       function filtro_referencia() {
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("input_nomereferencia");
      filter = input.value.toUpperCase();
      table = document.getElementById("tabela_tintas");
      tr = table.getElementsByTagName("tr");
      for (i = 1; i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[1];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            tr[i].style.display = "";
          } else {
            tr[i].style.display = "none";
          }
        }       
      }
    }
  
    
    </script>


<script>
    function salvar_receita(){
       
       if (tintas_flexo.length > 0){
       var data = {}
       
       data["nome"] = document.getElementById("nome_receita").value
       data["nome_cliente"] = document.getElementById("nome_cliente").value
       if (document.getElementById("inlineRadio1").checked === true){
       data["impressao"] = "Flexografia"
       } else {
           data["impressao"] = "Rotogravura"
       }
       data["lado_impressao"] = document.getElementById("lado_impressao").value
       data["receita_tintas"] = tintas_flexo
       data["tecnologia"] = document.getElementById("a_tecnologia_flexo").value
        data["produtos"] = recipe_products
        
    console.log(data)
    if (document.getElementById("id_receita").innerText == ""){
        data["criado_em"] = new Date()
       data["criado_por"] = usuario.fullname
     //  var cria_receita = api.custom_objects.create("BR-VALFI_receitaTinta",data)
       api.hub.start_from_whitepaper_with_variables("[CADASTRO TECNICOS]","receita_Criar",{"info":data,"usuario":usuario})
       
    } else {
        data["alterado_em"] = new Date()
       data["alterado_por"] = usuario.fullname
        data["_id"] = document.getElementById("id_receita").innerText
        api.hub.start_from_whitepaper_with_variables("[CADASTRO TECNICOS]","cliente_Alterar",{"info":data,"usuario":usuario})
    }
       
       
    location.reload()  
       } else {
           
           alert("Adicione ao menos 1 tinta a sequencia!!")
       }
       
    }
       
    
</script>
<script>
    function mostrar_referencia(){
        if (document.getElementById("referencia").checked === true){
            document.getElementById("div_referencia").style = "display:inline-block; vertical-align: top;"
            
        } else {
            
           document.getElementById("div_referencia").style = "display:none;"
        }
        
    }
    

</script>
<script>
   
</script>
<script>
    function vinculo_receita(){
        
        if (document.getElementById("vinculo_receita").value != "undefined"){
           if (document.getElementById("vinculo_receita").value != "Geral"){
               
               selectTipo = document.getElementById('vinculado_a');
               $('#vinculado_a').find('option').not(':first').remove()
               if (document.getElementById("vinculo_receita").value == "Substrato"){
                   document.getElementById("div_vinculo").style = "display: inline-block;"
                   document.getElementById("vinculo").innerText = "Substrato"
                var tiposTipo = api.custom_objects.list_with_options("BR-VALFI_substratos").results
                for (var i = 0; i<tiposTipo.length; i++){
                    var opt = document.createElement('option');
                    opt.value = tiposTipo[i].tipo;
                    opt.innerHTML = tiposTipo[i].tipo;
                    selectTipo.appendChild(opt);
                }
               }
               if (document.getElementById("vinculo_receita").value == "Cliente"){
                   document.getElementById("div_vinculo").style = "display: inline-block;"
                   document.getElementById("vinculo").innerText = "Cliente"
                var tiposTipo = api.custom_objects.list_with_options("BR-VALFI_clientes").results
                for (var i = 0; i<tiposTipo.length; i++){
                    var opt = document.createElement('option');
                    opt.value = tiposTipo[i].fantasia;
                    opt.innerHTML = tiposTipo[i].fantasia;
                    selectTipo.appendChild(opt);
                }
               }
               if (document.getElementById("vinculo_receita").value == "Familia de Produto"){
                 document.getElementById("div_familia").style = "display: inline-block;"
                
               }
               
               
        } else {
            document.getElementById("div_vinculo").style = "display: none;"
              
               $('#vinculado_a').find('option').not(':first').remove()
            
        }
    } else {
       document.getElementById("div_vinculo").style = "display: none;"
              
               $('#vinculado_a').find('option').not(':first').remove() 
    }
    }
</script>
<script>
    function seleciona_tipo_impressao(){
        
        if (document.getElementById("tipo_impressao").value == "Flexografia"){
            document.getElementById("div_receita_flexo").style = "display: inline-block;"
             document.getElementById("receitas_flexo").style = "display: inline-block;"
        } else {
            document.getElementById("div_receita_flexo").style = "display: none;" 
            document.getElementById("receitas_flexo").style = "display: none;"
        }
        
    }
</script>
<script>
    var tintas_flexo = []
    function adicionar_tinta_flexo(){
       var valor_hex = chroma(document.getElementById("acor").style.backgroundColor).hex()
         
        if (document.getElementById("altera_tinta").innerText == "99"){
        var info_tinta = {}
        info_tinta["cor"] = document.getElementById("nome").value
        info_tinta["referencia_cor"] = document.getElementById("nome_referencia").value
    //    info_tinta["referencia_fisica"] = document.getElementById("referencia_fisica_valor").value
    
        
        info_tinta["referencia_tinta"] = document.getElementById("referencia_tinta").value
        info_tinta["lineatura"] = document.getElementById("a_lineatura_flexo").value
        info_tinta["angulo"] = document.getElementById("o_angulo_flexo").value
        info_tinta["diamante"] = document.getElementById("o_diamante_flexo").value
        info_tinta["rugosidade_minima"] = document.getElementById("rugosidade_minima").value
        info_tinta["rugosidade_maxima"] = document.getElementById("rugosidade_maxima").value
        info_tinta["anilox"] = document.getElementById("o_anilox_flexo").value
        info_tinta["dupla_face"] = document.getElementById("a_dupla_flexo").value
        if (document.getElementById("inlineRadio1").checked === true){
        var busca_anilox = api.custom_objects.list_with_options("BR-VALFI_anilox",["numero","equal to",info_tinta.anilox]).results[0]
        info_tinta["bcm"] = busca_anilox.alteracoes_bcm[busca_anilox.alteracoes_bcm.length-1].atual
        } else {
        info_tinta["bcm"] = ""    
            
        }
        info_tinta["cameron"] = false
        info_tinta["fotocelula"] = false
        info_tinta["ref_kit"] = document.getElementById("ref_kit").value
        var info_cor = {}
        info_cor["L"] = document.getElementById("valor_L").value
        info_cor["a"] = document.getElementById("valor_A").value
        info_cor["b"] = document.getElementById("valor_B").value
        info_tinta["Lab"] = info_cor
        info_tinta["hex"] = valor_hex
        info_tinta["observacoes"] = document.getElementById("observacoes").value
        tintas_flexo.push(info_tinta)
          document.getElementById("error_tinta").style = "color: green"
         document.getElementById("error_tinta").innerText = "A cor foi criada com sucesso"
         setTimeout(document.getElementById("error_tinta").innerText = "", 3000)
        
        } else {
            var qual_tinta = parseInt(document.getElementById("altera_tinta").innerText)
            
            tintas_flexo[qual_tinta]["cor"] = document.getElementById("nome").value
            tintas_flexo[qual_tinta]["referencia_tinta"] = document.getElementById("referencia_tinta").value
            tintas_flexo[qual_tinta]["referencia_cor"] = document.getElementById("nome_referencia").value
          //  tintas_flexo[qual_tinta]["referencia_fisica"] = document.getElementById("referencia_fisica_valor").value
    
            tintas_flexo[qual_tinta]["lineatura"] = document.getElementById("a_lineatura_flexo").value
            tintas_flexo[qual_tinta]["angulo"] = document.getElementById("o_angulo_flexo").value
            tintas_flexo[qual_tinta]["diamante"] = document.getElementById("o_diamante_flexo").value
            tintas_flexo[qual_tinta]["anilox"] = document.getElementById("o_anilox_flexo").value
            tintas_flexo[qual_tinta]["rugosidade_minima"] = document.getElementById("rugosidade_minima").value
            tintas_flexo[qual_tinta]["rugosidade_maxima"] = document.getElementById("rugosidade_maxima").value
        
            
            tintas_flexo[qual_tinta]["dupla_face"] = document.getElementById("a_dupla_flexo").value
            tintas_flexo[qual_tinta]["ref_kit"] = document.getElementById("ref_kit").value
             var busca_anilox = api.custom_objects.list_with_options("BR-VALFI_anilox",["numero","equal to",document.getElementById("o_anilox_flexo").value]).results[0]
            tintas_flexo[qual_tinta]["bcm"] = busca_anilox.alteracoes_bcm[busca_anilox.alteracoes_bcm.length-1].atual
            var info_cor = {}
            info_cor["L"] = document.getElementById("valor_L").value
            info_cor["a"] = document.getElementById("valor_A").value
            info_cor["b"] = document.getElementById("valor_B").value
            tintas_flexo[qual_tinta]["Lab"] = info_cor
            tintas_flexo[qual_tinta]["hex"] = valor_hex
            tintas_flexo[qual_tinta]["observacoes"] = document.getElementById("observacoes").value
           
            document.getElementById("error_tinta").style = "color: green"
         document.getElementById("error_tinta").innerText = "A cor foi alterada com sucesso"
         setTimeout(document.getElementById("error_tinta").innerText = "", 3000)
           
        }
        
        document.getElementById("nome").value = ""
        document.getElementById("nome_referencia").value = ""
        document.getElementById("referencia_tinta").value = ""
        document.getElementById("a_dupla_flexo").value = "undefined"
        document.getElementById("ref_kit").value = ""
        document.getElementById("valor_L").value = ""
        document.getElementById("valor_A").value = ""
        document.getElementById("valor_B").value = ""
        document.getElementById("observacoes").value = ""
        document.getElementById("rugosidade_minima").value = ""
        document.getElementById("rugosidade_maxima").value = ""
        document.getElementById("o_angulo_flexo").value = ""
        document.getElementById("o_diamante_flexo").value = ""
        document.getElementById("a_lineatura_flexo").value = ""
        document.getElementById("o_anilox_flexo").value = ""
        document.getElementById("observacoes").value = ""
        document.getElementById("acor").style = "background-color: rgb(255, 255, 255); width: 30px; border: none; display: inline-block;"
        document.getElementById("altera_tinta").innerText = "99"
        
        
        
        
        
       
        
        preenche_tabela_receita()
      
        
    }
    
    function adiciona_cor_vazia(){
         var info_tinta = {}
        info_tinta["cor"] = "SEM USO"
    
        
        info_tinta["referencia_tinta"] = ""
        info_tinta["lineatura"] = ""
        info_tinta["anilox"] = ""
        info_tinta["angulo"] = ""
        info_tinta["diamante"] = ""
        info_tinta["ref_kit"] = ""
        info_tinta["referencia_cor"] = ""
        info_tinta["rugosidade_minima"] = "N"
        info_tinta["rugosidade_maxima"] = "A"
        info_tinta["bcm"] = ""
        info_tinta["dupla_face"] = ""
        info_tinta["cameron"] = false
        info_tinta["fotocelula"] = false
        info_tinta["Lab"] = ""
        info_tinta["hex"] = "#CCC"
        info_tinta["observacoes"] = ""
        tintas_flexo.push(info_tinta)
        
        preenche_tabela_receita()
    }
</script>
<script>
    function verifica_familia(){
       // console.log(document.getElementById("familia_produto").value)
        var busca_familia = api.custom_objects.list_with_options("BR-VALFI_familiaProduto",["nome","equal to",document.getElementById("familia_produto").value]).results
       // console.log(busca_familia.length)
        if (busca_familia.length === 0){
            document.getElementById("span_adiciona_familia").style = "display: inline-block;margin-right: 5px;"
            document.getElementById("div_familia_cliente").style = "display: inline-block;"
        } else {
            document.getElementById("span_adiciona_familia").style = "display: none;"
            document.getElementById("div_familia_cliente").style = "display:none;"
        }
        
    }
    function adicionar_familia_produto(){
        if (document.getElementById("cliente_familia").value != "undefined"){
       var busca_cliente = api.custom_objects.list_with_options("BR-VALFI_clientes",["fantasia","equal to",document.getElementById("cliente_familia").value]).results[0]
        if (busca_cliente.familias_produto === undefined){
            var familias = []
            familias.push(document.getElementById("familia_produto").value)
            api.custom_objects.set_keys("BR-VALFI_clientes",busca_cliente._id,{"familias_produto":familias})
        } else {
            var familias = busca_cliente.familias_produto
            if (familas.indexOf(document.getElementById("familia_produto").value) == -1){
                familias.push(document.getElementById("familia_produto").value)
                api.custom_objects.set_keys("BR-VALFI_clientes",busca_cliente._id,{"familias_produto":familias})
            }
            
        }
        }
       var busca_familia = api.custom_objects.list_with_options("BR-VALFI_familiaProduto",["nome","equal to",document.getElementById("familia_produto").value]).results
       if (busca_familia.length === 0){
           api.custom_objects.create("BR-VALFI_familiaProduto",{"nome":document.getElementById("familia_produto").value})
       }
        
    }
</script>
<script>
    function preenche_lista_receitas(){
       
        
        var busca_receitas = api.custom_objects.list("BR-VALFI_receitaTinta").results
        
        clearTable(document.getElementById("tabela_lista_receitas"))
          
          
         var table = document.getElementById("tabela_lista_receitas")
        var qtasrow = table.rows.length
      
            
            for (i=0;i<busca_receitas.length;i++){
            var row =  table.insertRow(qtasrow);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);
            var cell6 = row.insertCell(5);
           
           
           var cor_fotocelula = ""
           var cor_cameron = ""
           
           var as_tintas = busca_receitas[i].receita_tintas
           var string_tintas = ""
           var numero = 1
           for (j=0;j<as_tintas.length;j++){
              if (as_tintas[j].cor != "SEM USO"){
             string_tintas = string_tintas+'<span style="margin-top:5px;height:25px;width:25px;background-color:'+as_tintas[j].hex+';border-radius:50%;display:inline-block; color: white; text-shadow: 1px 1px #000000;" data-toggle="tooltip" data-placement="top" title="'+as_tintas[j].cor+'" >'+numero+'</span>'
              } else {
               string_tintas = string_tintas+'<span style="margin-top:5px;height:25px;width:25px;background-color: #FAFAFA ;color: #FAFAFA;border-radius:50%;display:inline-block; color: white; text-shadow: 1px 1px #000000; border: 1px solid lightgray;" data-toggle="tooltip" data-placement="top" title="'+as_tintas[j].cor+'" >.</span>'
                
              }
             numero = numero+1
                        }
          
           
           
           
            
           cell1.innerHTML = '<div style="font-size:1em;">'+busca_receitas[i].nome+'</div>'
            cell2.innerHTML = '<div style="font-size:1em;">'+busca_receitas[i].nome_cliente+'</div>'
           cell3.innerHTML = '<div style="font-size:1em; cursor: pointer">'+string_tintas+'</div>'
           cell4.innerHTML = '<div style="font-size:1em;">'+busca_receitas[i].impressao+'</div>'
          
           
            cell5.innerHTML = '<div><img id="'+busca_receitas[i]._id+'" src="Icons/edit.png" height="25px" onclick="editarReceita()" style="cursor: pointer;"></div>'
            
            cell6.innerHTML = '<div><img id="'+busca_receitas[i]._id+'" src="Icons/delete.png" height="25px" onclick="apagarReceita()" style="cursor: pointer;"></div>'
            qtasrow = qtasrow +1
      
      
        
        
    }
    }
    
   // preenche_lista_receitas()
    </script>
    <script>
       var receita_edit = ""
       
        function editarReceita(){
        var linha = event.srcElement.id
        document.getElementById("id_receita").innerText = linha
        receita_edit = api.custom_objects.list_with_options("BR-VALFI_receitaTinta",["_id","equal to",linha]).results[0]
        
        
      
      
      document.getElementById("nome_receita").value = receita_edit.nome
       document.getElementById("tipo_impressao").value = receita_edit.impressao
       document.getElementById("lado_impressao").value = receita_edit.lado_impressao
    //   document.getElementById("vinculo_receita").value = receita_edit.vinculo.receita
     //  if ( receita_edit.vinculo.receita != "Familia de Produto"){
     //  document.getElementById("vinculado_a").value = receita_edit.vinculo.vinculado_a
//    } else { document.getElementById("vinculo_familia").value =receita_edit.vinculo.vinculado_a
 //   }

    if (receita_edit.impressao == "Flexografia"){
    tintas_flexo = receita_edit.receita_tintas
  //  document.getElementById("div_receita_flexo").style = "display: inline-block;"
    document.getElementById("receitas_flexo").style = "display: inline-block;"
    recipe_products = receita_edit.produtos
    preenche_tabela_receita("flexo")
    } else {
//        document.getElementById("div_receita_flexo").style = "display: none;"
    document.getElementById("receitas_flexo").style = "display: none;" 
    }
      
      
      
        }
    </script>
    <script>
        function apagarReceita(){
            if (confirm("Deseja apagar a tinta?") === true){
             var linha = event.srcElement.id
             api.custom_objects.delete("BR-VALFI_receitaTinta",linha)
             preenche_lista_receitas()
                
            }
        }
    </script>
    
    <script>
        function muda_cor(){
      var o_L = parseInt(document.getElementById("valor_L").value)
       var o_A = parseInt(document.getElementById("valor_A").value)
        var o_B = parseInt(document.getElementById("valor_B").value)
        
    var resultado = chroma.lab(o_L,o_A,o_B)
     var valores_reg = resultado._rgb 
     var hex = rgbToHex(parseInt(valores_reg[0]),parseInt(valores_reg[1]),parseInt(valores_reg[2]))
     //console.log(hex)
     document.getElementById("acor").style = "background-color: "+hex+"; width: 30px; border: none; display: inline-block;"
     document.getElementById("nome_cor").innerText = hex
  }
  
    function seleciona_pantone(){
        var busca_tinta = api.custom_objects.list_with_options("PantoneColor",["nome","equal to",document.getElementById("nome_referencia").value]).results
        
        if (busca_tinta.length > 0){
            
            
             document.getElementById("acor").style = "background-color: "+busca_tinta[0].cor+"; width: 30px; border: none; display: inline-block;"
           // document.getElementById("acor").value = busca_tinta[0].cor
            var valor_lab = chroma(busca_tinta[0].cor).lab()
            document.getElementById("valor_L").value = valor_lab[0].toFixed(2)
            document.getElementById("valor_A").value = valor_lab[1].toFixed(2)
            document.getElementById("valor_B").value = valor_lab[2].toFixed(2)
           // document.getElementById("nome_cor").innerText = busca_tinta[0].cor
            
        }
    }
    
    
     function mostrar_referencia_fisica(){
        if (document.getElementById("referencia_fisica").checked === true){
            
           document.getElementById("div_referencia_fisica").style = "display:inline-block; vertical-align: top;"
            
        } else {
            
          
           document.getElementById("div_referencia_fisica").style = "display:none;"
        }
        
    }
  
  
    </script>
<script>
    let busca_OSPG
    function select_cliente(){
     $('#codigo_arte').find('option').not(':first').remove()
    var qual_cliente = document.getElementById("nome_cliente").value
        
        if (qual_cliente != ""){
       
         
        busca_OSPG = api.custom_objects.list_with_options("BR-VALFI_fichatecnica",["cliente","equal to",qual_cliente],["info_arte.codigo","ascending"],["info_arte","descricao"]).results
        var selectCodigo = document.getElementById('codigo_arte');
        
        for (var i = 0; i<busca_OSPG.length; i++){
            var opt = document.createElement('option');
            opt.value = busca_OSPG[i]._id;
            opt.innerHTML = busca_OSPG[i].info_arte.codigo+" Rev."+busca_OSPG[i].info_arte.revisao+" Ev."+busca_OSPG[i].info_arte.evolucao;
            selectCodigo.appendChild(opt);
            }
       
        }   
        
        
        
      
                
    }
        
    
    
    
function select_codigo_arte(){
    $("#produto").find('option').not(':first').remove();
    var qual_ospg = document.getElementById("codigo_arte").value
     for (i=0;i<busca_OSPG.length;i++){
         if (busca_OSPG[i]._id == qual_ospg){
             var revisao = parseInt(busca_OSPG[i].info_arte.revisao)
             if (revisao < 10){
                 revisao = "rev0"+revisao
             } else {
                 revisao = "rev"+revisao
             }
             
            var busca_assets = api.asset.list_with_options(["file_name","contains",busca_OSPG[i].info_arte.codigo,"and","file_extension","contains","pdf","and","path.0","equal to","MG4","and","cloudflow.file","contains",revisao,"or","file_extension","contains","ai","and","file_name","contains",busca_OSPG[i].info_arte.codigo,"and","path.0","equal to","MG4","and","cloudflow.file","contains",revisao],["file_name","ascending"],["cloudflow","file_name"]).results
     
         }
     }
     
     
   var selectProduto = document.getElementById('produto');
    for (var i = 0; i<busca_assets.length; i++){
        var opt = document.createElement('option');
        opt.value = busca_assets[i]._id;
        opt.innerHTML = busca_assets[i].file_name;
        selectProduto.appendChild(opt);
    }
          
    
}



var the_assets = []


var recipe_products = []

function adiciona_produto(){

// busca_info_PDF

 var busca_PDF = api.asset.list_with_options(["_id","equal to",document.getElementById("produto").value],[],["cloudflow","thumb"]).results
 var qual_ospg = document.getElementById("codigo_arte").value
   
for (i=0;i<busca_OSPG.length;i++){
         if (busca_OSPG[i]._id == qual_ospg){
            var theproduct = busca_OSPG[i].descricao.toUpperCase()
            var theproductcode = busca_OSPG[i].info_arte.codigo
            var theproductrevision = busca_OSPG[i].info_arte.revisao
            var theproductevolution = busca_OSPG[i].info_arte.evolucao 
            
         }
     }


console.log(theproduct)
console.log(theproductcode)
console.log(theproductrevision)
console.log(theproductevolution)
 
  // console.log(busca_PDF) 
   the_assets.push(busca_PDF[0])
var oPDF = busca_PDF[0]
var filepath = encodeURIComponent(oPDF.cloudflow.file)
//console.log(oPDF.cloudflow.file)
api.proofscope.request_render_by_url(oPDF.cloudflow.file)
var view_url = "http://35.232.192.44:9090/portal.cgi?proofscope&url="+filepath

var info_produto = {}
info_produto["asset"] = oPDF
info_produto["view_url"] = view_url
info_produto["thumb"] = oPDF.thumb
info_produto["codigo"] = theproductcode
info_produto["revisao"] = theproductrevision
info_produto["evolucao"] = theproductevolution
info_produto["produto"] = theproduct
console.log(info_produto)

var existe_produto = false 
for (i=0;i<recipe_products.length;i++){
 if (recipe_products[i].asset.cloudflow.file == oPDF.asset.cloudflow.file){
     existe_produto = true
 }   
}
if (existe_produto === false){
recipe_products.push(info_produto)




preenche_produtos_receita()
} else {
    document.getElementById("error_produtoexistente").innerText = "Produto já adicionado a sequência!"
}

}
    


function preenche_produtos_receita(){
 document.getElementById("grid_produto").innerHTML = ""
    
for (i=0;i<recipe_products.length;i++){
  var insere_HTML = '<div><img id="'+i+'" src="./Icons/cancelar.png" width="30px" onclick="delete_product()" style="cursor:pointer";></div><div><a href="'+recipe_products[i].view_url+'" target="_Blank"><img src="'+recipe_products[i].thumb+'" width="100%" style="cursor:pointer;"></a></div><div><strong>Produto: </strong><br>'+recipe_products[i].codigo+'</div><div><strong>Revisão: </strong><br>'+recipe_products[i].revisao+'</div><div><strong>Descrição: </strong><br>'+recipe_products[i].produto+'</div>'
 var element = document.createElement("div")
 element.style="padding:5px;box-shadow: 1px 1px 10px #101D36;"
 element.innerHTML = insere_HTML
 document.getElementById("grid_produto").appendChild(element)
}
    
}


function delete_product(){
     var linha = parseInt(event.srcElement.id)
    if (confirm("Deseja excluir esse produto?") === true){ 
     var tira = recipe_products.splice(linha,1)
     
     preenche_produtos_receita()
    }
    
    
}

function importar_outra_receita(){
    if (document.getElementById("importar_receita").checked === true){
     document.getElementById("div_outra_receita").style = "display: inline-block;"   
     var as_receitas = api.custom_objects.list("BR-VALFI_receitaTinta",[],["nome"]).results
     $("#receita_anterior").find('option').not(':first').remove();
      selectReceita= document.getElementById('receita_anterior');
   for (var i = 0; i<as_receitas.length; i++){
        var opt = document.createElement('option');
        opt.value = as_receitas[i]._id;
        opt.innerHTML = as_receitas[i].nome;
        selectReceita.appendChild(opt);
    }
     
    } else {
        
     document.getElementById("div_outra_receita").style = "display:none;"     
    }
}

function importar_receita_anterior(){
    if (document.getElementById("receita_anterior").value != "undefined"){
        document.getElementById("botao_importar").style = "display: inline-block;"
    } else {
       document.getElementById("botao_importar").style = "display: none;" 
    }
    
}

function importar_tintas(){
    var id_receita = document.getElementById("receita_anterior").value
    
    var busca_receita = api.custom_objects.list_with_options("BR-VALFI_receitaTinta",["_id","equal to",id_receita]).results[0]
    
    var tintas_da_receita = busca_receita.receita_tintas
    
    for (i=0;i<tintas_da_receita.length;i++){
        tintas_flexo.push(tintas_da_receita[i])
    }
    
    preenche_tabela_receita()
}
</script>
<script>
    function seleciona_tipo_receita(){
        if (document.getElementById("inlineRadio1").checked === true){
            document.getElementById("mostrar_kit").style = "display:inline-block; vertical-align: top; width: 23%;"
            document.getElementById("mostrar_tecnologia").style = "display:inline-block;"
            document.getElementById("mostrar_anilox").style = "display:inline-block;"
            document.getElementById("mostrar_duplaface").style = "display:inline-block;"
            document.getElementById("mostrar_rugosidade").style = "display:none;"
            document.getElementById("mostrar_angulo").style = "display:none;"
            document.getElementById("mostrar_diamante").style = "display:none;"
            document.getElementById("tabela_receitas_roto").style = "display: none;"
            document.getElementById("tabela_receitas_flexo").style = "display: inline-block;"
            
        } else {
          document.getElementById("mostrar_kit").style = "display:none;"
            document.getElementById("mostrar_tecnologia").style = "display:none;"
            document.getElementById("mostrar_anilox").style = "display:none;"
            document.getElementById("mostrar_duplaface").style = "display:none;"
            document.getElementById("mostrar_rugosidade").style = "display:inline-block; vertical-align: top; width: 23%;"
            document.getElementById("mostrar_angulo").style = "display:inline-block;"
            document.getElementById("mostrar_diamante").style = "display:inline-block;" 
            document.getElementById("tabela_receitas_roto").style = "display: inline-block;"
            document.getElementById("tabela_receitas_flexo").style = "display: none;"
            
        }
        
        
    }
</script>
<script>
    function limpacampo(){
        document.getElementById('error_produtoexistente').innerText = ""
    }
   
   
  const button = document.querySelector('#button');
  const tooltip = document.querySelector('#tooltip');

  // Pass the button, the tooltip, and some options, and Popper will do the
  // magic positioning for you:
  Popper.createPopper(button, tooltip, {
    placement: 'top',
  });

</script>
<script>
     
      function mostraTestforms(){
         
        var div_cliente = document.getElementById("info_testform")
        var icone = document.getElementById("testformArrow")
        icone.classList.toggle("fa-minus-square")
        if (div_cliente.style.display === "none") {
            div_cliente.style.display = "inline-block";
            div_cliente.style.width = "100%";
            } else {
                div_cliente.style.display = "none";
            }
    
      }
      
     preenche_lista_receitas()
</script>




    </body>

</html>